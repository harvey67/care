(this.webpackJsonpcare=this.webpackJsonpcare||[]).push([[0],{173:function(e,t,n){},190:function(e,t){},192:function(e,t){},202:function(e,t){},204:function(e,t){},231:function(e,t){},232:function(e,t){},237:function(e,t){},239:function(e,t){},246:function(e,t){},265:function(e,t){},304:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(63),c=n.n(s),i=(n(173),n(4)),o=n.n(i),l=n(7),d=n(20),p=(n(70),n(79)),u=n(52),b=n(8),j=n(31),m=n(0),h=function(){var e=Object(d.f)();return Object(a.useEffect)((function(){var t=sessionStorage.getItem("savedEmail");t?(console.log("savedmail is "+t),document.getElementsByClassName("Navbartop")[0].style.display="block"):(document.getElementsByClassName("Navbartop")[0].style.display="none",e.push("/"))})),Object(m.jsx)("div",{className:"Navbartop",children:Object(m.jsxs)(p.a,{bg:"dark",expand:"lg",variant:"dark",children:[Object(m.jsx)(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(m.jsxs)(p.a.Collapse,{id:"basic-navbar-nav",children:[Object(m.jsxs)(u.a,{className:"mr-auto",children:[Object(m.jsx)(u.a.Link,{href:"#home",children:"Home"}),Object(m.jsx)(u.a.Link,{href:"#custom",children:"Donate"}),Object(m.jsx)(u.a.Link,{href:"#sponsor",children:"Sponsor"}),Object(m.jsx)(u.a.Link,{href:"#my-cart",children:"My Cart"}),Object(m.jsx)(u.a.Link,{href:"#",children:"About us"})]}),Object(m.jsx)(b.a,{inline:!0,children:Object(m.jsx)(j.a,{variant:"outline-success",onClick:function(){console.log("logout"),sessionStorage.clear(),document.getElementsByClassName("Navbartop")[0].style.display="none",document.getElementsByClassName("Footerbottom")[0].style.display="none",e.push("/")},children:"Logout"})})]})]})})},f=n(16),y=n(167),v=n(168),x=n(14),g=(n(305),n(181),n(183),n(6)),O=n.n(g),k={apiKey:"AIzaSyAHN7qi76sqh-ZHSlAGryJEbTvxcsvFJaY",authDomain:"user-database-test-9ee1d.firebaseapp.com",databaseURL:"https://user-database-test-9ee1d.firebaseio.com",projectId:"user-database-test-9ee1d",storageBucket:"user-database-test-9ee1d.appspot.com",messagingSenderId:"425239506606",appId:"1:425239506606:web:decf3cc0780d2d8e9d073f"},E=new(function(){function e(){Object(y.a)(this,e),x.a.initializeApp(k),this.auth=x.a.auth(),this.db=x.a.firestore,this.u_id=0,this.currentUserID=0,this.currentUsername=""}return Object(v.a)(e,[{key:"createOrder",value:function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,r){var s,c,i,l,d,p,u,b,j,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.database().ref("care_orders").once("value");case 2:for(s=e.sent,c=!1,i="";!1===c;){for(c=!0,l=[],p=(d="ABCDEFGHJKLMNPQRSTUVWXYZ23456789").length,u=0;u<7;u++)l.push(d.charAt(Math.floor(Math.random()*p)));for(b in i=l.join(""),s.val())s.val()[b].receipt&&i===O.a.AES.decrypt(s.val()[b].receipt,"receiptEncrypted").toString(O.a.enc.Utf8)&&(c=!1)}return j=new Date,m=j.toISOString().toString().substring(0,10),e.next=10,x.a.database().ref("care_orders").push({user:O.a.AES.encrypt(t,"emailEncrypted").toString(),items:O.a.AES.encrypt(n,"mycartEncrypted").toString(),receipt:O.a.AES.encrypt(i,"receiptEncrypted").toString(),total:O.a.AES.encrypt(a.toString(),"totalEncrypted").toString(),details:O.a.AES.encrypt(r,"detailsEncrypted").toString(),dateordered:O.a.AES.encrypt(m,"dtEncrypted").toString(),confirmed:0});case 10:return console.log("order has been added to database"),e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"getOrderById",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.next=3,x.a.database().ref("care_orders").once("value");case 3:a=e.sent,e.t0=o.a.keys(a.val());case 5:if((e.t1=e.t0()).done){e.next=12;break}if(r=e.t1.value,O.a.AES.decrypt(a.val()[r].receipt,"receiptEncrypted").toString(O.a.enc.Utf8)!==t){e.next=10;break}return n={user:O.a.AES.decrypt(a.val()[r].user,"emailEncrypted").toString(O.a.enc.Utf8),items:O.a.AES.decrypt(a.val()[r].items,"mycartEncrypted").toString(O.a.enc.Utf8),total:O.a.AES.decrypt(a.val()[r].total,"totalEncrypted").toString(O.a.enc.Utf8),details:O.a.AES.decrypt(a.val()[r].details,"detailsEncrypted").toString(O.a.enc.Utf8),dateordered:O.a.AES.decrypt(a.val()[r].dateordered,"dtEncrypted").toString(O.a.enc.Utf8),confirmed:a.val()[r].confirmed},e.abrupt("return",n);case 10:e.next=5;break;case 12:return e.abrupt("return",0);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPendingOrders",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,x.a.database().ref("care_orders").once("value");case 3:for(a in n=e.sent,console.log("items"),n.val())n.val()[a].dateordered&&(r={user:O.a.AES.decrypt(n.val()[a].user,"emailEncrypted").toString(O.a.enc.Utf8),items:O.a.AES.decrypt(n.val()[a].items,"mycartEncrypted").toString(O.a.enc.Utf8),total:O.a.AES.decrypt(n.val()[a].total,"totalEncrypted").toString(O.a.enc.Utf8),details:O.a.AES.decrypt(n.val()[a].details,"detailsEncrypted").toString(O.a.enc.Utf8),receipt:O.a.AES.decrypt(n.val()[a].receipt,"receiptEncrypted").toString(O.a.enc.Utf8),dateordered:O.a.AES.decrypt(n.val()[a].dateordered,"dtEncrypted").toString(O.a.enc.Utf8),confirmed:n.val()[a].confirmed},t.push(r));return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getConfirmedOrders",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,x.a.database().ref("care_orders").once("value");case 3:for(a in(n=e.sent).val())n.val()[a].details&&1===n.val()[a].confirmed&&(r={user:O.a.AES.decrypt(n.val()[a].user,"emailEncrypted").toString(O.a.enc.Utf8),items:O.a.AES.decrypt(n.val()[a].items,"mycartEncrypted").toString(O.a.enc.Utf8),total:O.a.AES.decrypt(n.val()[a].total,"totalEncrypted").toString(O.a.enc.Utf8),details:O.a.AES.decrypt(n.val()[a].details,"detailsEncrypted").toString(O.a.enc.Utf8),receipt:O.a.AES.decrypt(n.val()[a].receipt,"receiptEncrypted").toString(O.a.enc.Utf8)},t.push(r));return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"writeToken",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,r,s,c,i,l,d,p,u,b,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("writing token..."),e.next=3,x.a.database().ref("care_tokens").once("value");case 3:for(t=e.sent,n=!1,a="";!1===n;){for(n=!0,r=[],c=(s="ABCDEFGHJKLMNPQRSTUVWXYZ23456789").length,i=0;i<10;i++)r.push(s.charAt(Math.floor(Math.random()*c)));for(l in a=r.join(""),t.val())t.val()[l].code&&a===O.a.AES.decrypt(t.val()[l].code,"tokenEncrypted").toString(O.a.enc.Utf8)&&(n=!1)}return(d=new Date).setDate(d.getDate()+3),(p=d.getUTCDate())<10&&(p="0"+p.toString()),(u=d.getUTCMonth())<10&&(u="0"+u.toString()),b=d.getUTCFullYear(),j=parseInt(b.toString()+u+p),e.next=17,x.a.database().ref("care_tokens").push({code:O.a.AES.encrypt(a,"tokenEncrypted").toString(),exp_date:j.toString(),is_valid:1});case 17:return console.log("token:"+a),console.log("date:"+j),console.log("written token"),e.abrupt("return",a);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getTokens",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getting tokens..."),e.next=3,x.a.database().ref("care_tokens").once("value");case 3:for(r in t=e.sent,n=[],t.val())t.val()[r].code&&(a={code:O.a.AES.decrypt(t.val()[r].code,"tokenEncrypted").toString(O.a.enc.Utf8),exp_date:t.val()[r].exp_date,is_valid:t.val()[r].is_valid},n.push(a));return console.log("returning tokens"),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"validateOrder",value:function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,r,s,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("validating order..."+t),e.next=3,x.a.database().ref("care_orders").once("value");case 3:for(c in a=e.sent,s=r=0,a.val())O.a.AES.decrypt(a.val()[c].receipt,"receiptEncrypted").toString(O.a.enc.Utf8)===n?s=r:r+=1;return i=Object.keys(a.val())[s],e.next=10,x.a.database().ref("care_orders/"+i).child("confirmed").set(t);case 10:console.log("validated order");case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"resetToken",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("resetting tokens..."),e.next=3,x.a.database().ref("care_tokens").once("value");case 3:for(r in t=e.sent,a=n=0,t.val())"POIJKLMNB"===t.val()[r].code?a=n:n+=1;return s=Object.keys(t.val())[a],e.next=10,x.a.database().ref("care_tokens/"+s).child("is_valid").set(1);case 10:console.log("reset token");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"creatingUser",value:function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,r,s,c,i){var l,d,p,u,b,j,m,h,f,y,v,g,k,E;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("adding user to database..."),e.next=3,x.a.database().ref("care_users").once("value");case 3:for(u in l=e.sent,d=O.a.AES.encrypt(t,"emailEncrypted").toString(),p=!0,l.val())l.val()[u].email&&t===O.a.AES.decrypt(l.val()[u].email,"emailEncrypted").toString(O.a.enc.Utf8)&&(console.log("error: that user already exists"),p=!1);if(!p){e.next=28;break}return b=O.a.AES.encrypt(n,"passwordEncrypted").toString(),j=O.a.AES.encrypt(a,"firstNameEncrypted").toString(),m=O.a.AES.encrypt(r,"lastNameEncrypted").toString(),h=O.a.AES.encrypt(s,"addressEncrypted").toString(),f=O.a.AES.encrypt(c,"phoneEncrypted").toString(),console.log(d),console.log(O.a.AES.decrypt(d,"emailEncrypted").toString()),console.log(O.a.AES.decrypt(d,"emailEncrypted").toString(O.a.enc.Utf8)),e.next=18,x.a.database().ref("care_users").push({email:d,password:b,firstName:j,lastName:m,address:h,phone:f});case 18:return console.log("user added"),e.next=21,x.a.database().ref("care_tokens").once("value");case 21:for(k in y=e.sent,g=v=0,y.val())y.val()[k].code&&(i===O.a.AES.decrypt(y.val()[k].code,"tokenEncrypted").toString(O.a.enc.Utf8)?g=v:v+=1);return E=Object.keys(y.val())[g],e.next=28,x.a.database().ref("care_tokens/"+E).child("is_valid").set(0);case 28:return e.abrupt("return",p);case 29:case"end":return e.stop()}}),e)})));return function(t,n,a,r,s,c,i){return e.apply(this,arguments)}}()},{key:"addPackToCart",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("retrieving pack..."),n=1,e.next=4,x.a.database().ref("care_items").once("value");case 4:for(s in a=e.sent,r=1,a.val())a.val()[s].items&&"pack"===a.val()[s].category&&(r===t&&(n=a.val()[s].id),r++);return console.log("pack retrieved"),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"loginUser",value:function(){var e=Object(l.a)(o.a.mark((function e(t,n){var a,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("adding user to database..."),e.next=3,x.a.database().ref("care_users").once("value");case 3:for(s in a=e.sent,r=!1,a.val())a.val()[s].email&&t===O.a.AES.decrypt(a.val()[s].email,"emailEncrypted").toString(O.a.enc.Utf8)&&n===O.a.AES.decrypt(a.val()[s].password,"passwordEncrypted").toString(O.a.enc.Utf8)&&(r=!0);return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getFood",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getting food..."),e.next=3,x.a.database().ref("care_items").once("value");case 3:for(a in t=e.sent,n=[],t.val())t.val()[a].items&&(r={desc:t.val()[a].items,src:t.val()[a].imageSrc,price:t.val()[a].price,category:t.val()[a].category,id:t.val()[a].id},n.push(r));return console.log("returning food "+n.length),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserDetails",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.next=3,x.a.database().ref("care_users").once("value");case 3:for(r in(a=e.sent).val())a.val()[r].email&&t===O.a.AES.decrypt(a.val()[r].email,"emailEncrypted").toString(O.a.enc.Utf8)&&(n={firstName:O.a.AES.decrypt(a.val()[r].firstName,"firstNameEncrypted").toString(O.a.enc.Utf8),lastName:O.a.AES.decrypt(a.val()[r].lastName,"lastNameEncrypted").toString(O.a.enc.Utf8),userphone:O.a.AES.decrypt(a.val()[r].phone,"phoneEncrypted").toString(O.a.enc.Utf8)});return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getStuff",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.database().ref("care_users").once("value");case 2:for(n in(t=e.sent).val())t.val()[n].email&&(console.log(),console.log(O.a.AES.decrypt(t.val()[n].firstName,"firstNameEncrypted").toString(O.a.enc.Utf8)),console.log(O.a.AES.decrypt(t.val()[n].lastName,"lastNameEncrypted").toString(O.a.enc.Utf8)),console.log(O.a.AES.decrypt(t.val()[n].phone,"phoneEncrypted").toString(O.a.enc.Utf8)),console.log(O.a.AES.decrypt(t.val()[n].password,"passwordEncrypted").toString(O.a.enc.Utf8)),console.log(O.a.AES.decrypt(t.val()[n].address,"addressEncrypted").toString(O.a.enc.Utf8)),console.log(O.a.AES.decrypt(t.val()[n].email,"emailEncrypted").toString(O.a.enc.Utf8)));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getFoodPacks",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getting food..."),e.next=3,x.a.database().ref("care_items").once("value");case 3:for(a in t=e.sent,n=[],t.val())t.val()[a].items&&"pack"===t.val()[a].category&&(r={items:t.val()[a].items,src:t.val()[a].imageSrc,price:t.val()[a].price,id:t.val()[a].id},n.push(r));return console.log("returning food"),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"changeIds",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("changin ids..."),e.next=3,x.a.database().ref("care_items").once("value");case 3:t=e.sent,n=0,e.t0=o.a.keys(t.val());case 6:if((e.t1=e.t0()).done){e.next=15;break}if(a=e.t1.value,!t.val()[a].items){e.next=13;break}return r=Object.keys(t.val())[n],e.next=12,x.a.database().ref("care_items/"+r).child("id").set(n+1);case 12:n++;case 13:e.next=6;break;case 15:console.log("ids changed");case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"updatePacks",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("updating packs..."),e.next=3,x.a.database().ref("care_items").once("value");case 3:t=e.sent,n=0,e.t0=o.a.keys(t.val());case 6:if((e.t1=e.t0()).done){e.next=27;break}if(a=e.t1.value,"pack"!==t.val()[a].category){e.next=24;break}if(console.log("got one"),r=Object.keys(t.val())[n],50!==t.val()[a].price){e.next=16;break}return e.next=14,x.a.database().ref("care_items/"+r).child("items").set("Rice,Bread,Oil,Burghul,Powdered Milk,Cheese");case 14:e.next=24;break;case 16:if(75!==t.val()[a].price){e.next=21;break}return e.next=19,x.a.database().ref("care_items/"+r).child("items").set("Eggs,Cheese,Powdered Milk,Bread,Oil,Rice,Bourghul,Zaatar,Sugar,Pasta");case 19:e.next=24;break;case 21:if(100!==t.val()[a].price){e.next=24;break}return e.next=24,x.a.database().ref("care_items/"+r).child("items").set("Bourghul,Pasta,Sauve,Cheese,Chocolate,Sugar,Salt,Beans,Zaatar,Oil,Powdered Milk,Tuna,Bottled water,Bread, Eggs");case 24:n++,e.next=6;break;case 27:console.log("packs updated");case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getStoreItems",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getting all store items..."),e.next=3,x.a.database().ref("care_items").once("value");case 3:for(a in t=e.sent,n=[],t.val())t.val()[a].items&&(r={items:t.val()[a].items,src:t.val()[a].imageSrc,price:t.val()[a].price,id:t.val()[a].id,category:t.val()[a].category},n.push(r));return console.log("returning store items"),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"addItem",value:function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,r){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("adding "+t+"..."),e.next=3,x.a.database().ref("care_items").once("value");case 3:return s=e.sent,e.next=6,x.a.database().ref("care_items").push({id:Object.keys(s.val()).length+1,items:t,imageSrc:n,price:a,category:r});case 6:console.log(t+"added");case 7:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"updateZakaat",value:function(){var e=Object(l.a)(o.a.mark((function e(t,n,a){var r,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("adding "+a+"..."),r="care_zakaat",e.next=4,x.a.database().ref(r).once("value");case 4:if(!(s=e.sent)){e.next=12;break}if(!s.val()){e.next=12;break}if(!Object.keys(s.val())){e.next=12;break}if(!(Object.keys(s.val()).length>0)){e.next=12;break}return c=Object.keys(s.val())[0],e.next=12,x.a.database().ref(r+"/"+c).remove();case 12:return e.next=14,x.a.database().ref(r).push({heading:t,image:n,details:a});case 14:console.log(a+"added");case 15:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"addFamily",value:function(){var e=Object(l.a)(o.a.mark((function e(t,n,a,r){var s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("adding "+t),r=parseInt(r.replace(/\D/g,"")),s=1,e.next=5,x.a.database().ref("care_sponsor").once("value");case 5:return(c=e.sent)&&c.val()&&Object.keys(c.val())&&(s=Object.keys(c.val()).length+1),e.next=9,x.a.database().ref("care_sponsor").push({family:t,image:n,desc:a,amount:r,sponsored:0,id:s});case 9:console.log(t+" added");case 10:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"getFamilies",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getting families..."),e.next=3,x.a.database().ref("care_sponsor").once("value");case 3:for(a in t=e.sent,n=[],t.val())0===t.val()[a].sponsored&&(r={family:t.val()[a].family,image:t.val()[a].image,desc:t.val()[a].desc,amount:t.val()[a].amount,id:t.val()[a].id},n.push(r));return console.log("families returned"),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setSponsored",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,r,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("sponsoring family..."),n="care_sponsor",e.next=4,x.a.database().ref(n).once("value");case 4:a=e.sent,r=0,e.t0=o.a.keys(a.val());case 7:if((e.t1=e.t0()).done){e.next=16;break}if(s=e.t1.value,c=Object.keys(a.val())[r],a.val()[s].id!==t){e.next=13;break}return e.next=13,x.a.database().ref(n+"/"+c).child("sponsored").set(1);case 13:r++,e.next=7;break;case 16:console.log("family sponsored");case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getZakaat",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getting zakaat"),"care_zakaat",e.next=4,x.a.database().ref("care_zakaat").once("value");case 4:t=e.sent,e.t0=o.a.keys(t.val());case 6:if((e.t1=e.t0()).done){e.next=13;break}return n=e.t1.value,a={heading:t.val()[n].heading,image:t.val()[n].image,details:t.val()[n].details},console.log("zakaat returned"),e.abrupt("return",a);case 13:return e.abrupt("return",0);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"removeItem",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a,r,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("removing "+t+"..."),e.next=3,x.a.database().ref("care_items").once("value");case 3:for(s in n=e.sent,r=a=0,n.val())t===n.val()[s].items?r=a:a+=1;return c=Object.keys(n.val())[r],console.log(c),e.next=11,x.a.database().ref("care_items/"+c).remove();case 11:console.log(t+"removed");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),N=n(110),S=n(27),C=function(){var e=Object(a.useState)(0),t=Object(f.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(""),c=Object(f.a)(s,2),i=c[0],p=c[1],u=Object(a.useState)(""),h=Object(f.a)(u,2),y=h[0],v=h[1],x=Object(a.useState)(""),g=Object(f.a)(x,2),O=g[0],k=g[1],C=Object(a.useState)(""),w=Object(f.a)(C,2),I=w[0],B=w[1],D=Object(a.useState)(""),A=Object(f.a)(D,2),P=A[0],T=A[1],F=Object(a.useState)(""),R=Object(f.a)(F,2),L=R[0],M=R[1],U=Object(a.useState)(""),H=Object(f.a)(U,2),G=H[0],q=H[1],J=Object(d.f)();function Y(){return(Y=Object(l.a)(o.a.mark((function e(){var t,n,a,s,c,i,l,d,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r(1),document.getElementsByClassName("spinner")[0].style.display="block",document.getElementsByClassName("spinner")[0].style.display="none",t=sessionStorage.getItem("token"),n=!1,!t){e.next=11;break}return e.next=8,E.getTokens();case 8:if(a=e.sent,console.log("over here"),a)for(s=0;s<a.length;s++)a[s].code===t?1===a[s].is_valid?(c=new Date,(i=c.getUTCDate())<10&&(i="0"+i.toString()),(l=c.getUTCMonth())<10&&(l="0"+l.toString()),d=c.getUTCFullYear(),p=parseInt(d.toString()+l+i),a[s].exp_date>=p?(n=!0,console.log("valid token")):console.log("that token is expired")):console.log("that token has already been used"):console.log("no matches");else console.log("there are no valid tokens at all");case 11:n?document.getElementsByClassName("LoginFormValidated")[0].style.display="block":document.getElementsByClassName("LoginFormInvalidated")[0].style.display="block";case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log("loggin in user"),console.log(i),e.next=5,E.loginUser(i,y);case 5:e.sent?(sessionStorage.setItem("savedEmail",i),J.push("/home")):alert("invalid credentials");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.getElementsByClassName("userAlert")[0].style.display="none",t.preventDefault(),y===O){e.next=7;break}console.log("passwords no match"),K(),e.next=13;break;case 7:return console.log("passwords match"),n=sessionStorage.getItem("token"),e.next=11,E.creatingUser(i,y,I,P,G,L,n);case 11:e.sent?(sessionStorage.setItem("savedEmail",i),J.push("/home")):Z();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){"block"===document.getElementsByClassName("passwordsAlert")[0].style.display?document.getElementsByClassName("passwordsAlert")[0].style.display="none":document.getElementsByClassName("passwordsAlert")[0].style.display="block"}function Z(){"block"===document.getElementsByClassName("userAlert")[0].style.display?document.getElementsByClassName("userAlert")[0].style.display="none":document.getElementsByClassName("userAlert")[0].style.display="block"}return Object(a.useEffect)((function(){0===n&&(!function(){Y.apply(this,arguments)}(),sessionStorage.getItem("savedEmail")&&(console.log("you are already logged in, going home"),J.push("/home")))})),Object(m.jsxs)("div",{className:"LoginForm",children:[Object(m.jsx)(S.a,{animation:"border",className:"spinner"}),Object(m.jsx)("div",{className:"LoginFormInvalidated",style:{display:"none"},children:Object(m.jsxs)(b.a,{onSubmit:function(e){return W.apply(this,arguments)},children:[Object(m.jsxs)(b.a.Group,{controlId:"formBasicEmailLogin",children:[Object(m.jsx)(b.a.Label,{children:"Email address"}),Object(m.jsx)(b.a.Control,{required:!0,value:i,onChange:function(e){return p(e.target.value)},type:"email",placeholder:"Enter email"})]}),Object(m.jsxs)(b.a.Group,{controlId:"formBasicPasswordLogin",children:[Object(m.jsx)(b.a.Label,{children:"Password"}),Object(m.jsx)(b.a.Control,{required:!0,value:y,onChange:function(e){return v(e.target.value)},name:"password",type:"password",placeholder:"Password"})]}),Object(m.jsx)(j.a,{variant:"primary",type:"submit",children:"Submit"})]})}),Object(m.jsx)("div",{className:"LoginFormValidated",style:{display:"none"},children:Object(m.jsxs)(b.a,{onSubmit:function(e){return z.apply(this,arguments)},children:[Object(m.jsxs)(b.a.Group,{controlId:"formBasicFirstName",children:[Object(m.jsx)(b.a.Label,{children:"First Name"}),Object(m.jsx)(b.a.Control,{required:!0,value:I,onChange:function(e){return B(e.target.value)},type:"text",placeholder:"Enter first name"})]}),Object(m.jsxs)(b.a.Group,{controlId:"formBasicLastName",children:[Object(m.jsx)(b.a.Label,{children:"Last Name"}),Object(m.jsx)(b.a.Control,{required:!0,value:P,onChange:function(e){return T(e.target.value)},type:"text",placeholder:"Enter last name"})]}),Object(m.jsxs)(b.a.Group,{controlId:"formBasicEmail",children:[Object(m.jsx)(b.a.Label,{children:"Email address"}),Object(m.jsx)(b.a.Control,{required:!0,value:i,onChange:function(e){return p(e.target.value)},type:"email",placeholder:"Enter email"})]}),Object(m.jsx)("div",{className:"userAlert",style:{display:"none"},children:Object(m.jsx)(N.a,{variant:"danger",onClose:function(){return Z()},dismissible:!0,children:Object(m.jsx)("p",{children:"Error: that email is already taken"})})}),Object(m.jsxs)(b.a.Group,{controlId:"formBasicPhone",children:[Object(m.jsx)(b.a.Label,{children:"Phone Number"}),Object(m.jsx)(b.a.Control,{required:!0,value:L,onChange:function(e){return M(e.target.value)},type:"text",placeholder:"Enter Phone Number"})]}),Object(m.jsxs)(b.a.Group,{controlId:"formBasicAddress",children:[Object(m.jsx)(b.a.Label,{children:"Address"}),Object(m.jsx)(b.a.Control,{required:!0,value:G,onChange:function(e){return q(e.target.value)},type:"text",placeholder:"Enter Address"})]}),Object(m.jsxs)(b.a.Group,{controlId:"formBasicPassword",children:[Object(m.jsx)(b.a.Label,{children:"Password"}),Object(m.jsx)(b.a.Control,{required:!0,value:y,onChange:function(e){return v(e.target.value)},name:"password",type:"password",placeholder:"Password"})]}),Object(m.jsxs)(b.a.Group,{controlId:"formBasicPassword2",children:[Object(m.jsx)(b.a.Label,{children:"Password Confirm"}),Object(m.jsx)(b.a.Control,{required:!0,value:O,onChange:function(e){return k(e.target.value)},name:"password2",type:"password",placeholder:"Password Confirm"})]}),Object(m.jsx)("div",{className:"passwordsAlert",style:{display:"none"},children:Object(m.jsx)(N.a,{variant:"danger",onClose:function(){return K()},dismissible:!0,children:Object(m.jsx)("p",{children:"Error: passwords do not match"})})}),Object(m.jsx)(j.a,{variant:"primary",type:"submit",children:"Submit"})]})})]})},w=n.p+"static/media/backgroundbw.f241be38.jpg",I=n.p+"static/media/care0.ec6dfb85.jpg",B=n.p+"static/media/care4.5143f59c.jpg",D=n.p+"static/media/care5.5f971b9d.jpg",A=n.p+"static/media/care6.8a1badba.jpg",P=n.p+"static/media/medicine.80dddb42.jpg",T=n(69),F=n.p+"static/media/foodDonate.606d6faf.jpg",R=n.p+"static/media/moneyDonate.7cc31a1b.jpg",L=function(){var e=Object(d.f)();function t(){return(t=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.getZakaat();case 2:t=e.sent,document.getElementById("zakaatHeading").innerHTML=t.heading,document.getElementById("zakaatImg").src=t.image,document.getElementById("zakaatP").innerHTML=t.details.substring(0,75)+"...";case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return(n=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=document.getElementsByClassName("chapter"),n=0;n<t.length;n++)n%2!==0&&(t[n].style.backgroundColor="#DADADA");document.getElementsByClassName("Navbartop")[0].style.display="block",document.getElementsByClassName("Footerbottom")[0].style.display="block";case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function r(e){return s.apply(this,arguments)}function s(){return(s=Object(l.a)(o.a.mark((function t(n){var a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=sessionStorage.getItem("myCart"),t.next=3,E.addPackToCart(n);case 3:r=t.sent,a+=","+r.toString(),console.log(a),sessionStorage.setItem("myCart",a),e.push("/my-cart");case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.useEffect)((function(){var a=sessionStorage.getItem("savedEmail");a?(console.log("savedmail is "+a),function(){n.apply(this,arguments)}(),function(){t.apply(this,arguments)}()):e.push("/")})),Object(m.jsxs)("div",{className:"Home",children:[Object(m.jsxs)("div",{className:"HomeContent",children:[Object(m.jsx)("br",{}),Object(m.jsxs)("div",{className:"chapter",id:"carouselID",children:[Object(m.jsx)("img",{id:"backgroundID",src:w,alt:"background"}),Object(m.jsxs)(T.a,{id:"carouselDiv",children:[Object(m.jsx)(T.a.Item,{children:Object(m.jsx)("div",{className:"carouselImg",children:Object(m.jsx)("img",{src:B,alt:"Third slide"})})}),Object(m.jsx)(T.a.Item,{children:Object(m.jsx)("div",{className:"carouselImg",children:Object(m.jsx)("img",{src:D,alt:"Third slide"})})}),Object(m.jsx)(T.a.Item,{children:Object(m.jsx)("div",{className:"carouselImg",children:Object(m.jsx)("img",{src:A,alt:"Third slide"})})})]})]}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{className:"chapter",children:Object(m.jsx)("table",{className:"homeTable",children:Object(m.jsx)("tbody",{children:Object(m.jsxs)("tr",{children:[Object(m.jsxs)("td",{children:[Object(m.jsx)("p",{children:"With your donations, food and supplies can be delivered to the poor families in Jabal Mohsen."}),Object(m.jsx)("button",{id:"sponsorBtn",onClick:function(){e.push("/sponsor")},className:"btn btn-success",children:"Sponsor a family"})]}),Object(m.jsx)("td",{children:Object(m.jsx)("img",{src:I,alt:"imagePic"})})]})})})}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{className:"chapter",children:Object(m.jsxs)("div",{id:"donation",children:[Object(m.jsx)("h3",{children:"Make a donation"}),Object(m.jsx)("br",{}),Object(m.jsx)("table",{className:"donationTable",children:Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsxs)("div",{className:"card purpleCard",children:[Object(m.jsx)("img",{className:"card-img-top",src:"https://nypost.com/wp-content/uploads/sites/2/2020/12/everyplate2.jpg?quality=90&strip=all&w=1024",alt:"topleft"}),Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsx)("h5",{className:"card-title",children:"Donate $50 Food Pack"}),Object(m.jsx)("p",{className:"card-text",children:Object(m.jsx)("table",{children:Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Rice"})}),Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Burghul"})})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Oil"})}),Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Powdered Milk"})})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Bread"})}),Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Cheese"})})]})]})})}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("button",{onClick:function(){return r(1)},className:"btn btn-primary",children:"Donate food"})]})]})}),Object(m.jsx)("td",{children:Object(m.jsxs)("div",{className:"card greenCard",children:[Object(m.jsx)("img",{className:"card-img-top",src:"https://png.pngitem.com/pimgs/s/375-3753134_broccoli-hd-png-download.png",alt:"topleft"}),Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsx)("h5",{className:"card-title",children:"Donate $75 Food Pack"}),Object(m.jsx)("p",{className:"card-text",children:Object(m.jsx)("table",{children:Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Eggs"})}),Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Cheese"})})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Rice"})}),Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Bourghul"})})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Oil"})}),Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Powdered Milk"})})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Bread"})}),Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Zaatar"})})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Sugar"})}),Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Pasta"})})]})]})})}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("button",{onClick:function(){return r(2)},className:"btn btn-primary",children:"Donate food"})]})]})}),Object(m.jsx)("td",{children:Object(m.jsxs)("div",{className:"card orangeCard",children:[Object(m.jsx)("img",{className:"card-img-top",src:"https://batestownfarmproduce.ie/wp-content/uploads/2020/03/veg-box-300x300.jpg",alt:"topleft"}),Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsx)("h5",{className:"card-title",children:"Donate $100 Food Pack"}),Object(m.jsx)("p",{className:"card-text",children:Object(m.jsx)("table",{children:Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Bourghul"})}),Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Pasta"})})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Sauce"})}),Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Cheese"})})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Sugar"})}),Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Chocolate"})})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Salt"})}),Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Beans"})})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Zaatar"})}),Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Tuna"})})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Oil"})}),Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Powdered Milk"})})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Tea"})}),Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Bottled Water"})})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Bread"})}),Object(m.jsx)("td",{children:Object(m.jsx)("li",{children:"Eggs"})})]})]})})}),Object(m.jsx)("button",{onClick:function(){return r(3)},className:"btn btn-primary",children:"Donate food"})]})]})})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsxs)("div",{className:"card yellowCard",children:[Object(m.jsx)("img",{className:"card-img-top",src:F,alt:"topleft"}),Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsxs)("h5",{className:"card-title",children:["Create your own food pack",Object(m.jsx)("br",{}),Object(m.jsx)("br",{})]}),Object(m.jsx)("button",{onClick:function(){e.push("/custom")},className:"btn btn-primary",children:"Donate food"})]})]})}),Object(m.jsx)("td",{children:Object(m.jsxs)("div",{className:"card redCard",children:[Object(m.jsx)("img",{className:"card-img-top",src:P,alt:"topleft"}),Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsx)("h5",{className:"card-title",children:"Donate Medicine and Medical Equipment"}),Object(m.jsx)("button",{onClick:function(){e.push("/custom#medicineID")},className:"btn btn-primary",children:"Donate"})]})]})}),Object(m.jsx)("td",{children:Object(m.jsxs)("div",{className:"card blueCard",children:[Object(m.jsx)("img",{className:"card-img-top",src:R,alt:"topleft",id:"zakaatImg"}),Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsxs)("h5",{className:"card-title",id:"zakaatHeading",children:["Donate ZAKAAT",Object(m.jsx)("br",{}),Object(m.jsx)("br",{})]}),Object(m.jsx)("p",{className:"card-text",id:"zakaatP"}),Object(m.jsx)("button",{onClick:function(){e.push("/donate-money")},className:"btn btn-primary",children:"Read more"})]})]})})]})]})})]})})]}),Object(m.jsx)("br",{})]})},M=function(){var e=Object(d.f)();return Object(a.useEffect)((function(){!function(){var e=window.location.href;console.log("url:"+e);var t="";e.includes("token=")&&e.includes("#")?(t=e.split("token=")[1].split("#")[0],console.log("token is "+t),sessionStorage.setItem("token",t)):(console.log("invalid url"),console.log("mayb check if user has login access?"))}(),e.push("/")})),Object(m.jsx)("div",{className:"ErrorPage"})},U=n.p+"static/media/mastercard.81315434.png",H=function(){return Object(m.jsxs)("div",{id:"PaymentSection",children:[Object(m.jsx)("img",{src:U,alt:"card"}),Object(m.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARoAAACzCAMAAABhCSMaAAAAllBMVEX///8aH3H3tgD3tAANFG4ABWqcnbliZJT61Ij6z3cAAGcUGm8QF25TVYsAAGM4PH/S09/97dAAAGopLXgJEW1eYJIAC2v5+fuQkbGWl7WsrcTz8/emp8Dg4Oltb5u3uMzr6/FCRYN5e6KxssfBwtNNUImEhqkvM3rJydjV1uF1d6AkKHZER4RgYpO7vM5pa5j+9OI0OH1Jm2SGAAAJoklEQVR4nO2dXUPqSAyGZbfg7rSMnFILiCiigC4ox///55bPMvMmmdZjqTd5Ls7F9muaTjJ5J8G9ulIURVF+nEn3WinoThzT9GykFNieaxrTUgqMmkZCTSOiphFR04ioaUTUNCJqGhE1jYiaRkRNI6KmEVHTiKhpRNQ0ImoaETWNiJpGRE0joqYRUdOI+KaxbaXAqyhMRx2lYDS9UhRFURRFURRFURRFURRFURRFURRFYRj07hbXT612atJ2a71Z3PUGPz2kA8N5N8Dt4jV49WRNLjkeGcF95x32Bq+LT2vSPIrjfak+TqI8NbY/+wiaZ3z3AHe//6OXD9M27SgRiXKznASuXqRwgTmNcZnBgUd69WSRmjxmmhni3Nj53Vh66tCmcPf89ntWYOndvxvTTuSei9i+yFeT7hRz/NoDiweIhXtzmwd6PRI7Eh46Z3piTA2m4HjrrG0aiYO04rx5xEFms+MR0tKTwqXTrg18j/3bCr78kHInT2uxBMf48d2mwliTJ+mqOV5RWLED449gxnes/ClO9+Idqofz8WCaj7oswTF4Xgsz3GvWcZjgKJP16dAG3rztReEB5xNA3OcfesvaNB/WZwiWycK0v/DcIVry/O0SiK6ed0xbWallWtl/7DOn7KRpJfM67cAyGBr6VaTnEqfPxRdwvWMqea5Hesc+k3yOI5eKwy7jOZ04GEMPfKBXtIs15QUOxavzZYO4imVa5o19KBeD96eHcozauCXTnY//XRKEi6mB39b1jnkFb2pJ04CsiSfS53qNIEC+jOFSG+I00aY4hlZzvKNTrVP3HNE9brgMcUeRNlwW4s9tLvuiQfi8kOHrn71jzIfRLf5L5wtuZG/y1Z/124Fhgm8WXTNnYUiKl/INzt4xY8Jo3DbW5K1s+69Js4OJ+ETlQXZG24woJYE4o+dgpHWd5hlc8pw0MpMmNstO7xClBpPX+4fIpLEQ3uQpB03kl4N8HCYzJamXEzdncP3ZO+5JHMv6KAgm9082ZxfFUJxKLyG+KfjVGT1DgrAbHD4hWKaFdzzhqpaxOdNkwUrpWArCLTFFrBvy3vSTjNDpHBEqy25yJE6+MCziw96dVuU3qAP8PPSTRHCGmzET2V342ivJEr/iBqBmYQSCHK0bDBbO6nOAvKOb+mBAOcvuu3JPlQE1G83jP77VN3jEV7BwwjsE4Th2DhLZXaRFNBcK7JMhC+/ieP3hD7LNb7HWDQk2oGjIKuqNS5bdJKvBfZwQ/kRN7yB7YpOvC7DCNcaXKB0ShF1lLctumvCZytoHnHF7U3BqJvm6BAt4B8jbMQRmD87BgOxmthQsv/lAWXrP3E03CMt2+u3XrgK+nq/2SBC2rr8FZDcJw1vMplKKD8veTkjA9/tK3PoGJJh4ewQYZ+Mb92hAdrM/kM1MlYkDz9yNBzaMLr4JegTVv7tVRO3mBQxZdjPVmcMZ/dIPDs/cz0SIw0m37Cb1gF7hKmEsF/i7gER2uwv/f7x0js1TiTqE7Puw6ME4mtgEvaLhJHe2bHD58mcyCrDYrdWQIsSJxHaDW5i+SeNo/x9B4jazCUrUjpOAkIDhLw3hxW0j7rgk9kFO9fmwAlMpZYrHl2ANwbSoFpAtC0jbMEr5Ax4HJGJmREUFozlqWVhH+Z3B+kFpXeRtVFd74qWs2v0S2I5qmacpOxjww9NuJySXcpm1XjDYFAZA8Qi7AaXV7lHINollNz5B7hZ7JKD/G4rDuM4WKmmJDuN7gSy7TwxDtmlZJjsZwFiKGYzJDl+7qh3I3E5a4I0EYT+ZlWV3QSdoG0MjBpg7KhIY0HJCxbN24LGn8jxmJlgACla7j7wy1WPnCjJvIFs4tzGB1zdUjCLT4zA7cG5j902w2l0wDrZKYLMTCXvn+0B4xh23S4ED2jsyCkSsMhLZ3eJv/mwCLVnG91HI7NzdWJhPDRWjcEQHRybaClaUEcruB+7WWwYzK2Z/uecYOBFdFwX3bqgYhcFvn1CRymobLiKyW94Xn25E43heCHLuKBLYMTZUjCLCdpdQ4X46WX9Csps+4UHoW/P2U8GFPcUGAVGco3UDY9opaBKEIcgGZTfD5Nay3bHOBhD2jfhxH+KwENlqBxOqCVHVTt/I8T1CspvldcX1yDnxFAqesApB7GuoGIWr0TbiYl2WhL2SPWWWGdcHXNwYoxukdbgJ2kwxCr0jH+FaQfOIsOwWuKfZ8XnhwxQz6b7fnrle+w9kO4Euga/ekmvc+qOJeXmTOceC+FRR3CFCvpV4/98e+BRfqWt9C/hiqxW+OF5QKrsFSPpXmIZstpZQ8YHfhtR3fWggKZfdPGTLuHBErHiVccGOfA+hf/kE/fECbgBWdX1aCz+G02DfCGuai3bkOwS/GdNpjedXXTBwJ6OIUaQBt4ymilEk+fWHT4pHpEDlphmBjIPI+VMUK5m2DA105B8gDeUOTENVUHbf3Iraj/QOnqptmCZVoKlN0FDLJdPPEpTdJjI3fFsEzfnS473/4A8lN1SMohvBDkxOHpLdu/wxTs3mAy976VOlcKxskXbLCjTUkR+a0ZzIDcnu42tGqe3P7l/epjuRNJ48zjJDrX/a/MVO0io0VYwKLJ6W7jYEZfc5osdZaoyxO0zKxvnjb9P+6A+P+10bF4Tm6YERBGV3wDWRU6JIisAxC5xUsg1SH9JPSbhGs5DsFm3McIw0ZA2IV30OHFlDxSjxV2ucVgnJ7i84hz1anXRtC+vyD22C0t60A2zSGZLd9McJEkWJDlW1tLsJVm+oI190BK6lUG4yv2KkgGiZkwHICiCpDhhiUx35zG+5d7CKGieG10BW2TIz8cFYvChY/swmKPV48QOGZHdFMRTbIlCQ/i05YQGl19QmKBs/+Tkbkt3VNhfcv+1Buq/lv99w9yMd+VesjmEXgaDsXpRH4a2KcG5LxLj01wKuSDGKlDkuRpeGCcOVloOy+7HP/zmW8/uYzPvYZEULzQV4ciSfWS8dg+lnm+3VGKX+Wbm/1r4Nl9bk7M7U7s/VXMPmzyqCh4ba7NdZ5VNr5W11A6xYr998+mf1Sblh/DKcm61uaudRsn+HJMraqbE3ixechj186Gdol3m49J/cVByumWnvuTPbdJ/6rf7n/H3WeWwqr1cURVEURVEURVEURVEURVEURVEU5ef5/Y/i8Nsxza+/FYdfnmn+UgrUNCJqGhE1jYiaRkRNI6KmEVHTiKhpRNQ0ImoaETWNiJpGRE0joqYRUdOIqGlE1DQiahoRNY2ImkYETKM4uKb5/a/i4NahFEVRlB/ifz3MJcRdDL75AAAAAElFTkSuQmCC",alt:"card"}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsxs)("form",{onSubmit:function(){console.log("making card donaiton")},children:[Object(m.jsx)("div",{className:"form-row",children:Object(m.jsxs)("div",{className:"col-md-12 mb-3",children:[Object(m.jsx)("label",{for:"validationDefault01",children:"Card Number"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"validationDefault01",placeholder:"Card Number",required:!0})]})}),Object(m.jsx)("div",{className:"form-row",children:Object(m.jsxs)("div",{className:"col-md-12 mb-3",children:[Object(m.jsx)("label",{for:"validationDefault01",children:"Name on card"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"validationDefault01",placeholder:"Name",required:!0})]})}),Object(m.jsxs)("div",{className:"form-row",children:[Object(m.jsxs)("div",{className:"col-md-6 mb-3",children:[Object(m.jsx)("label",{for:"validationDefault01",children:"Expiry (mm/yy)"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"validationDefault01",placeholder:"mm/yy",required:!0})]}),Object(m.jsxs)("div",{className:"col-md-6 mb-3",children:[Object(m.jsx)("label",{for:"validationDefault01",children:"CVV"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"validationDefault01",placeholder:"CVV",required:!0})]})]}),Object(m.jsx)("div",{className:"form-row",children:Object(m.jsxs)("div",{className:"col-md-12 mb-3",children:[Object(m.jsx)("label",{for:"validationDefault01",children:"Reference"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"reference01",placeholder:"Reference"})]})})]})]})},G=function(){var e=Object(d.f)();function t(){return(t=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.getZakaat();case 2:0!==(t=e.sent)&&(document.getElementById("headingID").innerHTML=t.heading,document.getElementById("imageID").src=t.image,document.getElementById("pID").innerHTML=t.details);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){var n=sessionStorage.getItem("savedEmail");n?(console.log("savedmail is "+n),function(e){document.getElementById("referenceID")&&(document.getElementById("referenceID").innerHTML=e||"<i>Your email address</i>")}(n),function(){t.apply(this,arguments)}()):e.push("/")})),Object(m.jsxs)("div",{className:"DonateMoney",children:[Object(m.jsxs)("div",{className:"content",children:[Object(m.jsx)("br",{}),Object(m.jsx)("h3",{children:"Donate Money"}),Object(m.jsx)("br",{}),Object(m.jsx)("p",{children:"Thank you for your generosity. Please fill in the form to make a donation:"}),Object(m.jsx)("br",{}),Object(m.jsx)("h4",{id:"headingID",children:"Family"}),Object(m.jsx)("br",{}),Object(m.jsx)("img",{id:"imageID",src:R,alt:"topleft",style:{width:"40%",minWidth:"350px",paddingLeft:"40px"},align:"right"}),Object(m.jsx)("p",{id:"pID",children:"Story"}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("hr",{}),Object(m.jsx)(H,{}),Object(m.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Confirm details"})]}),Object(m.jsx)("br",{})]})},q=function(){var e=Object(a.useState)(0),t=Object(f.a)(e,2),n=t[0],r=t[1],s=Object(d.f)();function c(){return(c=Object(l.a)(o.a.mark((function e(){var t,n,a,s,c,l,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementsByClassName("spinner")[0].style.display="block",r(1),e.next=4,E.getFoodPacks();case 4:if(t=e.sent,n="",a=["purple","green","orange"],!(t.length>0)){e.next=15;break}for(n+="<table class='foodPackTable'><tbody>",s=0;s<t.length;s++){for(s%4===0&&(n+=0===s?"<tr>":"</tr><tr>"),c=t[s].items.replace("[","").replace("]","").split(","),l="",d=0;d<c.length;d++)l+="<li>"+c[d]+"</li>";n+="\n                <td>\n                    <div class='card "+a[s%a.length]+'Card \'>                    \n                        <img class="card-img-top" src="'+t[s].src+"\"></img>\n                        <div class='card-body'>\n                            <h5 class='card-title desc'>Food Pack "+(s+1)+" - $"+t[s].price+'</h5>\n                            <p class="card-text">'+l+"</p>\n                            <button class='addToCartBtn btn btn-primary btn-sm' value=\""+t[s].id+'">Donate item</button>\n                        </div>\n                    </div>\n                </td>\n                '}return n+="</tr></tbody></table>",document.getElementById("foodItems").innerHTML=n,document.getElementsByClassName("spinner")[0].style.display="none",e.next=15,i();case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return p.apply(this,arguments)}function p(){return(p=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=document.getElementsByClassName("addToCartBtn"),n=function(e){t[e].onclick=Object(l.a)(o.a.mark((function n(){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=sessionStorage.getItem("myCart"),a+=","+t[e].value,console.log(a),sessionStorage.setItem("myCart",a),u("alert alert-success","Added item to donation cart");case 5:case"end":return n.stop()}}),n)})))},a=0;a<t.length;a++)n(a);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e,t){var n=document.getElementById("alertNotification").innerHTML,a=document.getElementsByClassName("notificationBadge").length;n+='\n        <div class="notificationBadge">\n            <div class="'+e+'" role="alert">\n                '+t+"\n            </div>\n        </div>                \n        ",document.getElementById("alertNotification").innerHTML=n,setTimeout((function(){document.getElementsByClassName("notificationBadge")[a]&&(document.getElementsByClassName("notificationBadge")[a].style.display="none")}),4e3)}return Object(a.useEffect)((function(){if(0===n){var e=sessionStorage.getItem("savedEmail");e?(console.log("savedmail is "+e),function(){c.apply(this,arguments)}()):s.push("/")}})),Object(m.jsxs)("div",{className:"DonateFood",children:[Object(m.jsxs)("div",{className:"content",children:[Object(m.jsx)("br",{}),Object(m.jsx)("div",{id:"alertNotification"}),Object(m.jsx)("br",{}),Object(m.jsx)("h3",{children:"Donate Food Packs"}),Object(m.jsx)("br",{}),Object(m.jsx)("p",{children:"Thank you for your generosity. Please select which items you wish to purchase and donate:"}),Object(m.jsxs)("p",{children:["Or you can customise your own food pack ",Object(m.jsx)("a",{href:"#custom",children:"here"})]}),Object(m.jsx)("br",{}),Object(m.jsx)("hr",{}),Object(m.jsx)(S.a,{animation:"border",className:"spinner"}),Object(m.jsx)("div",{id:"foodItems"}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("hr",{}),Object(m.jsx)("button",{type:"button",className:"btn btn-success",onClick:function(){s.push("/my-cart")},children:"Confirm donation items"})]}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{})]})},J=function(){return Object(a.useEffect)((function(){var e=sessionStorage.getItem("savedEmail");e?(console.log("savedmail is "+e),document.getElementsByClassName("Footerbottom")[0].style.display="block"):document.getElementsByClassName("Footerbottom")[0].style.display="none"})),Object(m.jsxs)("div",{className:"Footerbottom",children:[Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("footer",{className:"bg-light text-center text-lg-start",children:Object(m.jsx)("div",{className:"text-center p-3",style:{backgroundColor:"rgba(0, 0, 0, 0.2)"},children:Object(m.jsx)("p",{className:"text-dark",children:"With your donations, food and supplies can be delivered to the poor families in Jabal Mohsen"})})})]})},Y=function(){var e=Object(a.useState)(0),t=Object(f.a)(e,2),n=t[0],r=t[1],s=Object(d.f)();function c(e){return i.apply(this,arguments)}function i(){return(i=Object(l.a)(o.a.mark((function e(t){var n,a,s,c,i,l,d,u,b,j,m,h,f,y,v,x,g;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("over here"),document.getElementsByClassName("spinner")[0].style.display="block",r(1),n=[],a="",!t){e.next=24;break}if(1===(s=t.split(",")).length&&"null"===s[0]){e.next=21;break}return a='<table class="table"><tbody><tr><th scope="col">Item</th><th scope="col">Qty</th><th scope="col">Total</th><th></th></tr>',e.next=11,E.getStoreItems();case 11:for(c=e.sent,i=0,l=0;l<s.length;l++)for(d=0;d<c.length;d++)if(s[l]===c[d].id.toString()){if(u=c[d].items,"pack"===c[d].category){for(b=u.split(","),j="<b>Food pack</b>",m=0;m<b.length;m++)j+="<li>"+b[m]+"</li>";u=j}for(h=!0,f=0;f<n.length;f++)n[f].desc===u&&(y={desc:u,qty:n[f].qty+1,total:parseFloat(n[f].total)+parseFloat(c[d].price),id:c[d].id,src:c[d].src},n[f]=y,f=n.length,h=!1);!0===h&&(v={desc:u,qty:1,total:parseFloat(c[d].price),id:c[d].id,src:c[d].src},n.push(v)),d=c.length}for(x="Remove item",/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(x="X"),g=0;g<n.length;g++)a+="<tr><td><img src="+n[g].src+" />"+n[g].desc+"</td><td>"+n[g].qty+"</td><td>$"+n[g].total.toFixed(2)+"</td><td><button class='removeItemBtn btn btn-danger btn-sm' value=\""+n[g].id+'">'+x+"</button></td></tr>",i+=parseFloat(n[g].total);a+="<tr><td><b>Total</b></td><td></td><td><b>$"+i.toFixed(2)+"</b></td><td></td></tr>",a+="</tbody></table>",e.next=22;break;case 21:a="<p>You haven't selected any items to be donated. Please <a href='#custom'>Click here</a> to select items to donate</p>";case 22:e.next=25;break;case 24:a="<p>You haven't selected any items to be donated. Please <a href='#custom'>Click here</a> to select items to donate</p>";case 25:return document.getElementById("myItems")&&(document.getElementById("myItems").innerHTML=a,console.log("myCart:"+t),document.getElementsByClassName("spinner")[0].style.display="none"),e.next=28,p();case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return u.apply(this,arguments)}function u(){return(u=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=document.getElementsByClassName("removeItemBtn"),n=function(e){t[e].onclick=Object(l.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:b(t[e].value);case 1:case"end":return n.stop()}}),n)})))},a=0;a<t.length;a++)n(a);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){console.log("item was "+e);var t=sessionStorage.getItem("myCart");t=t.split(",");for(var n=0;n<t.length;n++)t[n]===e&&(t.splice(n,1),n=0);t=t.toString(),sessionStorage.setItem("myCart",t),c(t)}return Object(a.useEffect)((function(){if(0===n){var e=sessionStorage.getItem("savedEmail"),t=sessionStorage.getItem("myCart");e?(console.log("savedmail is "+e),c(t)):s.push("/")}})),Object(m.jsx)("div",{className:"MyCart",children:Object(m.jsxs)("div",{className:"content",children:[Object(m.jsx)("br",{}),Object(m.jsx)("h3",{children:"My Cart"}),Object(m.jsx)("br",{}),Object(m.jsx)(S.a,{animation:"border",className:"spinner"}),Object(m.jsx)("div",{id:"myItems"}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{className:"buttonSpace",children:[Object(m.jsx)("button",{type:"button",className:"btn btn-primary left",onClick:function(){s.push("/custom")},children:"Edit order"}),Object(m.jsx)("button",{type:"button",className:"btn btn-success right",onClick:function(){s.push("/delivery")},children:"Add delivery details"})]}),Object(m.jsx)("br",{})]})})},W=function(){var e=Object(a.useState)(0),t=Object(f.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(""),c=Object(f.a)(s,2),i=c[0],p=c[1],u=Object(a.useState)(""),h=Object(f.a)(u,2),y=h[0],v=h[1],x=Object(a.useState)(""),g=Object(f.a)(x,2),k=g[0],N=g[1],C=Object(a.useState)(""),w=Object(f.a)(C,2),I=w[0],B=w[1],D=Object(a.useState)(""),A=Object(f.a)(D,2),P=A[0],T=A[1],F=Object(a.useState)(""),R=Object(f.a)(F,2),L=R[0],M=R[1],U=Object(a.useState)(""),H=Object(f.a)(U,2),G=H[0],q=H[1],J=Object(a.useState)(""),Y=Object(f.a)(J,2),W=Y[0],z=Y[1],K=Object(a.useState)(""),Z=Object(f.a)(K,2),V=Z[0],_=Z[1],X=Object(a.useState)(""),Q=Object(f.a)(X,2),$=Q[0],ee=Q[1],te=Object(a.useState)(""),ne=Object(f.a)(te,2),ae=ne[0],re=ne[1],se=Object(d.f)();function ce(){return(ce=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.getZakaat();case 2:0!==(t=e.sent)&&(document.getElementById("zakaatHeading").value=t.heading,document.getElementById("zakaatImg").value=t.image,document.getElementById("zakaatDetails").value=t.details,T(t.heading),M(t.image),q(t.details));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return oe.apply(this,arguments)}function oe(){return(oe=Object(l.a)(o.a.mark((function e(){var t,n,a,r,s,c,i,l,d,p,u,b,j,m,h,f,y,v,x,g,O,k,N,S,C,w,I,B,D,A,P,T,F,R,L,M,U,H,G;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementsByClassName("spinner")[1].style.display="block",t="",e.next=4,E.getPendingOrders();case 4:return n=e.sent,console.log("orders"),console.log(n),a="<h6>Awaiting payment confirmation</h6><br>",e.next=10,E.getStoreItems();case 10:for(r=e.sent,s=window.location.href,c='<table class="table table-bordered">\n        <thead class="thead-light">\n            <tr>\n                <th>Link</th>\n                <th colspan="3">Purchaser Details</th>\n                <th colspan="2">Order Details</th>\n                <th colspan="4">Recipient Details</th>\n                <th colspan="3">Other Info</th>\n            </tr>\n            <tr>\n                <th>Link</th>\n\n                <th>Name</th>\n                <th>Email</th>\n                <th>Phone</th>\n                \n                <th>Total</th>\n                <th>Items</th>\n\n                <th>Recipient</th>\n                <th>Address</th>\n                <th>Phone</th>\n                <th>Other notes</th>\n\n                <th>Receipt</th>\n                <th>Date Ordered</th>\n                <th>Status</th>\n            </tr>\n        </thead>\n        <tbody>\n            ',i=0;i<n.length;i++)if(0===parseInt(n[i].confirmed)){for(l=0,d=n[i].items.split(","),p=[],u="",b=0;b<d.length;b++)if("undefined"!==d[b]&&"null"!==d[b])for(j=0;j<r.length;j++)if(d[b]===r[j].id.toString()&&(l+=parseFloat(r[j].price),!p.includes(d[b]))){for(p.push(d[b]),m=1,h=b+1;h<d.length;h++)d[b]===d[h]&&(m+=1);u+="\n                                        <p>"+r[j].items+" - $"+r[j].price+" x "+m+"</p>\n                                    "}l>0&&(f=JSON.parse(n[i].details),console.log("deliveryDetails"),console.log(f),console.log(f.toString()),y="",void 0!==f.notes&&(y=f.notes),t="","block"===document.getElementById("products").style.display&&(t="<option value=0>Payment pending</option>",a+='\n                            <div class="order">\n                                <a href=\''+s.split("admin")[0]+"printReceipt?receipt="+n[i].receipt+"&"+n[i].items+"&"+JSON.stringify(f)+'\'>Print receipt</a>\n                                <div class="user">\n                                    <h5>Puchaser details</h5>\n                                    <p><b>Name: </b>'+f.username+"</p>\n                                    <p><b>Email: </b>"+n[i].user+"</p>\n                                    <p><b>Phone: </b>"+f.phone+'</p>\n                                </div>\n                                <hr></hr>\n                                <div class="item">\n                                    <h5>Order details</h5>\n                                    <p><b>Total: </b>$'+l.toFixed(2)+"</p>\n                                    <p><b>Items: </b></p>\n                                    "+u+'\n                                </div>\n                                <hr></hr>\n                                <div class="delivery">\n                                    <h5>Delivery details</h5>\n                                    <p><b>Delivery Recipient: </b>'+f.name+"</p>\n                                    <p><b>Delivery Recipient Address: </b>"+f.address+"</p>\n                                    <p><b>Delivery Recipient Phone: </b>"+f.phone+"</p>\n                                    <p><b>Delivery Recipient Other Notes: </b>"+y+'</p>\n                                </div>\n                                <hr></hr>\n                                <div class="info">\n                                    <h5>Other info</h5>\n                                    <p><b>Receipt: </b>'+n[i].receipt+"</p>\n                                    <p><b>Date ordered: </b>"+n[i].dateordered+"</p>\n                                    <p><b>Status: </b>\n                                        <select class='orderProcess'>\n                                            "+t+"\n                                            <option value=1>Awaiting Delivery</option>\n                                            <option value=2>Delivered</option>\n                                        </select>\n                                        <button class='completed btn btn-primary' value='"+n[i].receipt+"'>Update</button>\n                                    </p>\n                                </div>\n                            </div>\n                        ",c+="\n                            <tr>\n                                <td><a href='"+s.split("admin")[0]+"printReceipt?receipt="+n[i].receipt+"&"+n[i].items+"&"+JSON.stringify(f)+"'>Print receipt</a></td>\n\n                                <td>"+f.username+"</td>\n                                <td>"+n[i].user+"</td>\n                                <td>"+f.phone+"</td>\n\n                                <td>"+l.toFixed(2)+"</td>\n                                <td>"+u+"</td>\n\n                                <td>"+f.name+"</td>\n                                <td>"+f.address+"</td>\n                                <td>"+f.phone+"</td>\n                                <td>"+y+"</td>\n\n                                <td>"+n[i].receipt+"</td>\n                                <td>"+n[i].dateordered+"</td>\n                                <td>\n                                    <select class='orderProcess'>\n                                        "+t+"\n                                        <option value=1>Awaiting Delivery</option>\n                                        <option value=2>Delivered</option>\n                                    </select>\n                                    <button class='completed btn btn-primary' value='"+n[i].receipt+"'>Update</button>\n                                </td>\n                            </tr>\n                        "))}for(a+="<br><hr></hr><br><h6>Awaiting delivery</h6><br>",v=0;v<n.length;v++)if(1===parseInt(n[v].confirmed)){for(x=0,g=n[v].items.split(","),O=[],k="",N=0;N<g.length;N++)if("undefined"!==g[N]&&"null"!==g[N])for(S=0;S<r.length;S++)if(g[N]===r[S].id.toString()&&(x+=parseFloat(r[S].price),!O.includes(g[N]))){for(O.push(g[N]),C=1,w=N+1;w<g.length;w++)g[N]===g[w]&&(C+=1);k+="\n                                        <p>"+r[S].items+" - $"+r[S].price+" x "+C+"</p>\n                                    "}x>0&&(I=JSON.parse(n[v].details),B="",void 0!==I.notes&&(B=I.notes),t="","block"===document.getElementById("products").style.display&&(t="<option value=0>Payment pending</option>"),a+='\n                        <div class="order">\n                            <a href=\''+s.split("admin")[0]+"printReceipt?receipt="+n[v].receipt+"&"+n[v].items+"&"+JSON.stringify(I)+'\'>Print receipt</a>\n                            <div class="user">\n                                <h5>Purchaser details</h5>\n                                <p><b>Name: </b>'+I.username+"</p>\n                                <p><b>Email: </b>"+n[v].user+"</p>\n                                <p><b>Phone: </b>"+I.phone+'</p>\n                            </div>\n                            <hr></hr>\n                            <div class="item">\n                                <h5>Order details</h5>\n                                <p><b>Total: </b>$'+x.toFixed(2)+"</p>\n                                <p><b>Items: </b></p>\n                                "+k+'\n                            </div>\n                            <hr></hr>\n                            <div class="delivery">\n                                <h5>Order details</h5>\n                                <p><b>Delivery Recipient: </b>'+I.name+"</p>\n                                <p><b>Delivery Recipient Address: </b>"+I.address+"</p>\n                                <p><b>Delivery Recipient Phone: </b>"+I.phone+"</p>\n                                <p><b>Delivery Recipient Other Notes: </b>"+B+'</p>\n                            </div>\n                            <hr></hr>\n                            <div class="info">\n                                <h5>Other info</h5>\n                                <p><b>Receipt: </b>'+n[v].receipt+"</p>\n                                <p><b>Date ordered: </b>"+n[v].dateordered+"</p>\n                                <p><b>Status: </b>\n                                    <select class='orderProcess'>\n                                        "+t+"\n                                        <option value=1 selected>Awaiting Delivery</option>\n                                        <option value=2>Delivered</option>\n                                    </select>\n                                    <button class='completed btn btn-primary' value='"+n[v].receipt+"'>Update</button>\n                                </p>\n                            </div>\n                        </div>\n                    ",c+='\n                            <tr class="awaitingDeliveryOrder">\n                                <td><a href=\''+s.split("admin")[0]+"printReceipt?receipt="+n[v].receipt+"&"+n[v].items+"&"+JSON.stringify(I)+"'>Print receipt</a></td>\n                                \n                                <td>"+I.username+"</td>\n                                <td>"+n[v].user+"</td>\n                                <td>"+I.phone+"</td>\n\n                                <td>"+x.toFixed(2)+"</td>\n                                <td>"+k+"</td>\n\n                                <td>"+I.name+"</td>\n                                <td>"+I.address+"</td>\n                                <td>"+I.phone+"</td>\n                                <td>"+B+"</td>\n\n                                <td>"+n[v].receipt+"</td>\n                                <td>"+n[v].dateordered+"</td>\n                                <td>\n                                    <select class='orderProcess'>\n                                        "+t+"\n                                        <option value=1 selected>Awaiting Delivery</option>\n                                        <option value=2>Delivered</option>\n                                    </select>\n                                    <button class='completed btn btn-primary' value='"+n[v].receipt+"'>Update</button>\n                                </td>\n                            </tr>\n                    ")}for(a+="<br><hr></hr><br><h6>Delivered</h6><br>",D=0;D<n.length;D++)if(2===parseInt(n[D].confirmed)){for(A=0,P=n[D].items.split(","),T=[],F="",R=0;R<P.length;R++)if("undefined"!==P[R]&&"null"!==P[R])for(L=0;L<r.length;L++)if(P[R]===r[L].id.toString()&&(A+=parseFloat(r[L].price),!T.includes(P[R]))){for(T.push(P[R]),M=1,U=R+1;U<P.length;U++)P[R]===P[U]&&(M+=1);F+="\n                                        <p>"+r[L].items+" - $"+r[L].price+" x "+M+"</p>\n                                    "}A>0&&(H=JSON.parse(n[D].details),G="",void 0!==H.notes&&(G=H.notes),t="","block"===document.getElementById("products").style.display&&(t="<option value=0>Payment Pending</option>"),a+='\n                        <div class="order">\n                            <a href=\''+s.split("admin")[0]+"printReceipt?receipt="+n[D].receipt+"&"+n[D].items+"&"+JSON.stringify(H)+'\'>Print receipt</a>\n                            <div class="user">\n                                <h5>Purchaser details</h5>\n                                <p><b>Name: </b>'+H.username+"</p>\n                                <p><b>Email: </b>"+n[D].user+"</p>\n                                <p><b>Phone: </b>"+H.phone+'</p>\n                            </div>\n                            <hr></hr>\n                            <div class="item">                                \n                                <h5>Order details</h5>\n                                <p><b>Total: </b>$'+A.toFixed(2)+"</p>\n                                <p><b>Items: </b></p>\n                                "+F+'\n                            </div>\n                            <hr></hr>\n                            <div class="delivery">\n                                <h5>Delivery details</h5>\n                                <p><b>Delivery Recipient: </b>'+H.name+"</p>\n                                <p><b>Delivery Recipient Address: </b>"+H.address+"</p>\n                                <p><b>Delivery Recipient Phone: </b>"+H.phone+"</p>\n                                <p><b>Delivery Recipient Other Notes: </b>"+G+'</p>\n                            </div>\n                            <hr></hr>\n                            <div class="info">\n                                <h5>Other info</h5>\n                                <p><b>Receipt: </b>'+n[D].receipt+"</p>\n                                <p><b>Date ordered: </b>"+n[D].dateordered+"</p>\n                                <p><b>Status: </b>\n                                    <select class='orderProcess'>\n                                        "+t+"\n                                        <option value=1>Awaiting Delivery</option>\n                                        <option value=2 selected>Delivered</option>\n                                    </select>\n                                    <button class='completed btn btn-primary' value='"+n[D].receipt+"'>Update</button>\n                                </p>\n                            </div>\n                        </div>\n                    ",c+='\n                            <tr class="deliveredOrder">\n                                <td><a href=\''+s.split("admin")[0]+"printReceipt?receipt="+n[D].receipt+"&"+n[D].items+"&"+JSON.stringify(H)+"'>Print receipt</a></td>\n                                \n                                <td>"+H.username+"</td>\n                                <td>"+n[D].user+"</td>\n                                <td>"+H.phone+"</td>\n\n                                <td>"+A.toFixed(2)+"</td>\n                                <td>"+F+"</td>\n\n                                <td>"+H.name+"</td>\n                                <td>"+H.address+"</td>\n                                <td>"+H.phone+"</td>\n                                <td>"+G+"</td>\n\n                                <td>"+n[D].receipt+"</td>\n                                <td>"+n[D].dateordered+"</td>\n                                <td>                                \n                                    <select class='orderProcess'>\n                                        "+t+"\n                                        <option value=1>Awaiting Delivery</option>\n                                        <option value=2 selected>Delivered</option>\n                                    </select>\n                                    <button class='completed btn btn-primary' value='"+n[D].receipt+"'>Update</button>\n                                </td>\n                            </tr>\n                    ")}return c+="</tbody></table><br><br>",document.getElementsByClassName("spinner")[1].style.display="none",document.getElementsByClassName("pendingOrdersTable")[0].style.display="block",document.getElementsByClassName("pendingOrdersTable")[0].innerHTML=c,document.getElementsByClassName("pendingOrders")[0].style.display="none",document.getElementsByClassName("pendingOrders")[0].innerHTML=a,e.next=26,le();case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(){return de.apply(this,arguments)}function de(){return(de=Object(l.a)(o.a.mark((function e(){var t,n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=document.getElementsByClassName("completed"),n=document.getElementsByClassName("orderProcess"),a=function(e){t[e].onclick=Object(l.a)(o.a.mark((function a(){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,pe(n[e].value,t[e].value);case 2:case"end":return a.stop()}}),a)})))},r=0;r<t.length;r++)a(r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e,t){return ue.apply(this,arguments)}function ue(){return(ue=Object(l.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.validateOrder(t,n);case 2:ie();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(){return(be=Object(l.a)(o.a.mark((function e(){var t,n,a,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementsByClassName("spinner")[0].style.display="block",r(1),e.next=4,E.getFood();case 4:for(t=e.sent,n=[],a=0;a<t.length;a++)"pack"!==t[a].category&&n.push(t[a]);if(s="",!(n.length>0)){e.next=16;break}for(s+="<table class='productList'><tbody>",c=0;c<n.length;c++)c%4===0&&(s+=0===c?"<tr>":"</tr><tr>"),s+="\n                <td>\n                    <div class='card'>                    \n                        <h5 class='desc'>"+n[c].desc+" - $"+n[c].price+'</h5>\n                        <img card-img-top src="'+n[c].src+"\"></img>\n                        <br>\n                        <button class='removeItem btn btn-danger btn-sm' value=\""+n[c].desc+'">Remove item</button>\n                    </div>\n                </td>\n                ';return s+="</tr></tbody></table>",document.getElementById("foodItems").innerHTML=s,document.getElementsByClassName("spinner")[0].style.display="none",e.next=16,je();case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(){return me.apply(this,arguments)}function me(){return(me=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=document.getElementsByClassName("removeItem"),n=function(e){t[e].onclick=Object(l.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.removeItem(t[e].value);case 2:fe("alert alert-warning","Removed item <strong>"+t[e].value+"</strong> from database. Please refresh the page to see effect.");case 3:case"end":return n.stop()}}),n)})))},a=0;a<t.length;a++)n(a);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(){return(he=Object(l.a)(o.a.mark((function e(t){var n,a,r,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,E.getFood();case 3:for(n=e.sent,a=!0,r=0;r<n.length;r++)n[r].desc===i&&(fe("alert alert-warning",'"'+i+'" is already in the database. Please remove it if you want to proceed'),a=!1);if(!0!==a){e.next=15;break}return s=k.replace("$",""),c=document.getElementById("category").value,e.next=11,E.addItem(i,y,s,c.toLowerCase());case 11:fe("alert alert-success",'"'+i+'" has been added to the database'),p(""),N(""),v("");case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e,t){var n=document.getElementById("alertNotification").innerHTML,a=document.getElementsByClassName("notificationBadge").length;n+='\n        <div class="notificationBadge">\n            <div class="'+e+'" role="alert">\n                '+t+"\n            </div>\n        </div>                \n        ",document.getElementById("alertNotification").innerHTML=n,setTimeout((function(){document.getElementsByClassName("notificationBadge")[a]&&(document.getElementsByClassName("notificationBadge")[a].style.display="none")}),4e3)}function ye(){return(ye=Object(l.a)(o.a.mark((function e(t){var n,a,r,s,c,i,l,d,p,u,b,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,E.getOrderById(I);case 3:if(n=e.sent,a=window.location.href,0===n){e.next=22;break}return r=n.items.split(","),e.next=9,E.getStoreItems();case 9:for(s=e.sent,c=[],i="",l=0;l<r.length;l++)if(!c.includes(r[l])&&"undefined"!==r[l]&&"null"!==r[l])for(d=0;d<s.length;d++)if(r[l]===s[d].id.toString()&&!c.includes(r[l])){for(c.push(r[l]),p=1,u=l+1;u<r.length;u++)r[l]===r[u]&&(p+=1);i+="\n                                        <p>"+s[d].items+" - $"+s[d].price+" x "+p+"\n                                    "}return b=JSON.parse(n.details),j="",void 0!==b.notes&&(j=b.notes),document.getElementById("filteredOrder").style.display="block",0===parseInt(n.confirmed)?document.getElementById("filteredOrder").innerHTML='\n                    <div class="order">\n                        <a href=\''+a.split("admin")[0]+"printReceipt?receipt="+I+"&"+n.items+"&"+JSON.stringify(b)+'\'>Print receipt</a>\n                        <div class="user">\n                            <h5>Purchaser details</h5>\n                            <p><b>Name: </b>'+b.username+"</p>\n                            <p><b>Email: </b>"+n.user+"</p>\n                            <p><b>Phone: </b>"+b.userphone+'</p>\n                        </div>\n                        <hr></hr>\n                        <div class="item">\n                            <h5>Order details</h5>\n                            <p><b>Total: </b> $'+n.total+"</p>\n                            <p><b>Items: </b></p>\n                            "+i+'\n                        </div>\n                        <hr></hr>\n                        <div class="delivery">\n                            <h5>Delivery details</h5>\n                            <p><b>Delivery Recipient: </b>'+b.name+"</p>\n                            <p><b>Delivery Recipient Address: </b>"+b.address+"</p>\n                            <p><b>Delivery Recipient Other Notes: </b>"+j+'</p>\n                        </div>\n                        <hr></hr>\n                        <div class="info">\n                            <h5>Other info</h5>\n                            <p><b>Receipt: </b>'+I+"</p>\n                            <p><b>Date ordered: </b>"+n.dateordered+"</p>\n                            <p><b>Status: </b>\n                                <select class='orderProcess'>\n                                    <option value=0 selected>Pending</option>\n                                    <option value=1>Payment Approved</option>\n                                    <option value=2>Delivered</option>\n                                </select>\n                                <button class='completedFiltered btn btn-primary' value=0>Update</button>\n                            </p>\n                        </div>\n                    </div>\n                ":1===parseInt(n.confirmed)?document.getElementById("filteredOrder").innerHTML='\n                    <div class="order">\n                        <a href=\''+a.split("admin")[0]+"printReceipt?receipt="+I+"&"+n.items+"&"+JSON.stringify(b)+'\'>Print receipt</a>\n                        <div class="user">\n                            <h5>Purchaser details</h5>\n                            <p><b>Name: </b>'+b.username+"</p>\n                            <p><b>Email: </b>"+n.user+"</p>\n                            <p><b>Phone: </b>"+b.userphone+'</p>\n                        </div>\n                        <hr></hr>\n                        <div class="item">\n                            <h5>Order details</h5>\n                            <p><b>Total: </b> $'+n.total+"</p>\n                            <p><b>Items: </b></p>\n                            "+i+'\n                        </div>\n                        <hr></hr>\n                        <div class="delivery">\n                            <h5>Delivery details</h5>\n                            <p><b>Delivery Recipient: </b>'+b.name+"</p>\n                            <p><b>Delivery Recipient Address: </b>"+b.address+"</p>\n                            <p><b>Delivery Recipient Other Notes: </b>"+j+'</p>\n                        </div>\n                        <hr></hr>\n                        <div class="info">\n                            <h5>Other info</h5>\n                            <p><b>Receipt: </b>'+I+"</p>\n                            <p><b>Date ordered: </b>"+n.dateordered+"</p>\n                            <p><b>Status: </b>\n                                <select class='orderProcess'>\n                                    <option value=0>Pending</option>\n                                    <option value=1 selected>Payment Approved</option>\n                                    <option value=2>Delivered</option>\n                                </select>\n                                <button class='completedFiltered btn btn-primary' value=0>Update</button>\n                            </p>\n                        </div>\n                    </div>\n                ":document.getElementById("filteredOrder").innerHTML='\n                    <div class="order">\n                        <a href=\''+a.split("admin")[0]+"printReceipt?receipt="+I+"&"+n.items+"&"+JSON.stringify(b)+'\'>Print receipt</a>\n                        <div class="user">\n                            <h5>Purchaser details</h5>\n                            <p><b>Name: </b>'+b.username+"</p>\n                            <p><b>Email: </b>"+n.user+"</p>\n                            <p><b>Phone: </b>"+b.userphone+'</p>\n                        </div>\n                        <hr></hr>\n                        <div class="item">\n                            <h5>Order details</h5>\n                            <p><b>Total: </b> $'+n.total+"</p>\n                            <p><b>Items: </b></p>\n                            "+i+'\n                        </div>\n                        <hr></hr>\n                        <div class="delivery">\n                            <h5>Delivery details</h5>\n                            <p><b>Delivery Recipient: </b>'+b.name+"</p>\n                            <p><b>Delivery Recipient Address: </b>"+b.address+"</p>\n                            <p><b>Delivery Recipient Other Notes: </b>"+j+'</p>\n                        </div>\n                        <hr></hr>\n                        <div class="info">\n                            <h5>Other info</h5>\n                            <p><b>Receipt: </b>'+I+"</p>\n                            <p><b>Date ordered: </b>"+n.dateordered+"</p>\n                            <p><b>Status: </b>\n                                <select class='orderProcess'>\n                                    <option value=0>Pending</option>\n                                    <option value=1>Payment Approved</option>\n                                    <option value=2 selected>Delivered</option>\n                                </select>\n                                <button class='completedFiltered btn btn-primary' value=0>Update</button>\n                            </p>\n                        </div>\n                    </div>\n                ",e.next=20,ve();case 20:e.next=23;break;case 22:document.getElementById("filteredOrder").innerHTML=I+" is an invalid receipt";case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(){return xe.apply(this,arguments)}function xe(){return(xe=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=document.getElementsByClassName("completedFiltered"),n=0;n<t.length;n++)t[n].onclick=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("btns[i].value:"+document.getElementsByClassName("orderProcess")[0].value),console.log("receipt:"+I),e.next=4,pe(document.getElementsByClassName("orderProcess")[0].value,I);case 4:ie();case 5:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(){return(ge=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.writeToken();case 2:t=e.sent,n="https://harvey67.github.io/care/#/token="+t+"#",document.getElementById("invitationLinkID").innerHTML="<p><a href='"+n+"'>"+n+"</a> - send this link to the person who want to see the site. This link can only be used once and is unique for that person only.</p>";case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(){return(Oe=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.updateZakaat(P,L,G);case 2:fe("alert alert-warning","Zakaat updated");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(){return(ke=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.addFamily(W,V,$,ae);case 2:fe("alert alert-warning","Family added");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){0===n&&(sessionStorage.getItem("savedEmail")?(document.getElementsByClassName("content")[0].style.display="none",function(){var e=prompt("Admin Password"),t=O.a.AES.encrypt(e,"passEncrypted").toString();if(console.log(O.a.AES.decrypt(t,"passEncrypted").toString()),"61646d696e"===O.a.AES.decrypt(t,"passEncrypted").toString())return document.getElementById("products").style.display="block",!0;if("6f7264657273"===O.a.AES.decrypt(t,"passEncrypted").toString())return!0;return!1}()?(document.getElementsByClassName("content")[0].style.display="block",function(){be.apply(this,arguments)}(),ie(),function(){ce.apply(this,arguments)}()):se.push("/")):se.push("/"))})),Object(m.jsx)("div",{className:"Admin",children:Object(m.jsxs)("div",{className:"content",style:{display:"none"},children:[Object(m.jsx)("br",{}),Object(m.jsx)("div",{id:"alertNotification"}),Object(m.jsx)("br",{}),Object(m.jsx)("h3",{children:"Admin page"}),Object(m.jsx)("br",{}),Object(m.jsx)("hr",{}),Object(m.jsxs)("div",{id:"products",style:{display:"none"},children:[Object(m.jsx)("h5",{children:"Link to invite people to site"}),Object(m.jsx)("br",{}),Object(m.jsx)(j.a,{variant:"success",onClick:function(){return ge.apply(this,arguments)},children:"Get invitation link"}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{id:"invitationLinkID"}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{style:{display:"block"},children:[Object(m.jsx)("hr",{}),Object(m.jsx)("h5",{children:"Add items to database"}),Object(m.jsx)("br",{}),Object(m.jsxs)(b.a,{onSubmit:function(e){return he.apply(this,arguments)},autoComplete:"off",children:[Object(m.jsxs)(b.a.Group,{controlId:"formDesc",children:[Object(m.jsx)(b.a.Label,{children:"Description"}),Object(m.jsx)(b.a.Control,{required:!0,value:i,onChange:function(e){return p(e.target.value)},type:"text",placeholder:"Description"})]}),Object(m.jsxs)(b.a.Group,{controlId:"formSrc",children:[Object(m.jsx)(b.a.Label,{children:"Image link"}),Object(m.jsx)(b.a.Control,{required:!0,value:y,onChange:function(e){return v(e.target.value)},type:"text",placeholder:"Image link"})]}),Object(m.jsxs)(b.a.Group,{controlId:"formPrc",children:[Object(m.jsx)(b.a.Label,{children:"Price"}),Object(m.jsx)(b.a.Control,{required:!0,value:k,onChange:function(e){return N(e.target.value)},type:"text",placeholder:"Price"})]}),Object(m.jsxs)(b.a.Group,{children:[Object(m.jsx)(b.a.Label,{children:"Category"}),Object(m.jsxs)(b.a.Control,{as:"select",id:"category",children:[Object(m.jsx)("option",{children:"Food"}),Object(m.jsx)("option",{children:"Medicinal"}),Object(m.jsx)("option",{children:"Other"})]})]}),Object(m.jsx)(j.a,{variant:"primary",type:"submit",children:"Add item to database"})]})]}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{style:{display:"block"},children:[Object(m.jsx)("hr",{}),Object(m.jsx)("h5",{children:"Home page Zakaat"}),Object(m.jsx)("br",{}),Object(m.jsxs)(b.a,{onSubmit:function(){return Oe.apply(this,arguments)},autoComplete:"off",children:[Object(m.jsxs)(b.a.Group,{controlId:"formDesc",children:[Object(m.jsx)(b.a.Label,{children:"Heading"}),Object(m.jsx)(b.a.Control,{id:"zakaatHeading",required:!0,value:P,onChange:function(e){return T(e.target.value)},type:"text",placeholder:"Heading"})]}),Object(m.jsxs)(b.a.Group,{controlId:"formSrc",children:[Object(m.jsx)(b.a.Label,{children:"Image link"}),Object(m.jsx)(b.a.Control,{id:"zakaatImg",required:!0,value:L,onChange:function(e){return M(e.target.value)},type:"text",placeholder:"Image link"})]}),Object(m.jsxs)(b.a.Group,{controlId:"formPrc",children:[Object(m.jsx)(b.a.Label,{children:"Details"}),Object(m.jsx)("textarea",{id:"zakaatDetails",name:"Text1",style:{width:"100%"},rows:"5",value:G,placeholder:"Details",onChange:function(e){return q(e.target.value)}})]}),Object(m.jsx)(j.a,{variant:"primary",type:"submit",children:"Update Zakaat"})]})]}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{style:{display:"block"},children:[Object(m.jsx)("hr",{}),Object(m.jsx)("h5",{children:"Sponsor Family"}),Object(m.jsx)("br",{}),Object(m.jsxs)(b.a,{onSubmit:function(){return ke.apply(this,arguments)},autoComplete:"off",children:[Object(m.jsxs)(b.a.Group,{controlId:"formDesc",children:[Object(m.jsx)(b.a.Label,{children:"Family Name"}),Object(m.jsx)(b.a.Control,{required:!0,value:W,onChange:function(e){return z(e.target.value)},type:"text",placeholder:"Family Name"})]}),Object(m.jsxs)(b.a.Group,{controlId:"formSrc",children:[Object(m.jsx)(b.a.Label,{children:"Image link"}),Object(m.jsx)(b.a.Control,{required:!0,value:V,onChange:function(e){return _(e.target.value)},type:"text",placeholder:"Image link"})]}),Object(m.jsxs)(b.a.Group,{controlId:"formPrc",children:[Object(m.jsx)(b.a.Label,{children:"Description"}),Object(m.jsx)(b.a.Control,{required:!0,value:$,onChange:function(e){return ee(e.target.value)},type:"text",placeholder:"Description"})]}),Object(m.jsxs)(b.a.Group,{controlId:"formPrc",children:[Object(m.jsx)(b.a.Label,{children:"Donation"}),Object(m.jsx)(b.a.Control,{required:!0,value:ae,onChange:function(e){return re(e.target.value)},type:"text",placeholder:"Donation"})]}),Object(m.jsx)(j.a,{variant:"primary",type:"submit",children:"Add family"})]})]}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("hr",{}),Object(m.jsx)("h4",{children:"Items"}),Object(m.jsx)(S.a,{animation:"border",className:"spinner"}),Object(m.jsx)("div",{id:"foodItems"}),Object(m.jsx)("br",{}),Object(m.jsx)("hr",{}),Object(m.jsx)("br",{})]}),Object(m.jsx)("h4",{children:"Orders"}),Object(m.jsx)("br",{}),Object(m.jsx)("h5",{children:"Filter Order"}),Object(m.jsx)("div",{className:"orderFilter",children:Object(m.jsxs)(b.a,{className:"form-inline",onSubmit:function(e){return ye.apply(this,arguments)},autoComplete:"off",children:[Object(m.jsx)(b.a.Group,{controlId:"formInput",children:Object(m.jsx)(b.a.Control,{required:!0,value:I,onChange:function(e){return B(e.target.value)},type:"text",placeholder:"Receipt Number"})}),Object(m.jsx)(j.a,{variant:"primary",type:"submit",children:"Submit"})]})}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{id:"filteredOrder",style:{display:"none"}}),Object(m.jsx)("br",{}),Object(m.jsx)(S.a,{animation:"border",className:"spinner"}),Object(m.jsx)("button",{type:"button",className:"btn btn-success",onClick:function(){"block"===document.getElementsByClassName("pendingOrders")[0].style.display?(document.getElementsByClassName("pendingOrders")[0].style.display="none",document.getElementsByClassName("pendingOrdersTable")[0].style.display="block"):(document.getElementsByClassName("pendingOrders")[0].style.display="block",document.getElementsByClassName("pendingOrdersTable")[0].style.display="none")},children:"Switch table or receipts"}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{className:"pendingOrdersTable",style:{display:"none"}}),Object(m.jsx)("div",{className:"pendingOrders",style:{display:"none"}})]})})},z=function(){var e=Object(a.useState)(0),t=Object(f.a)(e,2),n=t[0],r=t[1],s=Object(d.f)();function c(){return(c=Object(l.a)(o.a.mark((function e(){var t,n,a,s,c,i,l,d,p,u,b,j,m,h,f,y,v,x,g;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r(1),t="",n=[],!(a=sessionStorage.getItem("myCart"))){e.next=26;break}if(1===(s=a.split(",")).length&&"null"===s[0]){e.next=23;break}return t='<div class="boxDiv"><h4>Your Items</h4><br /><table class="table"><tbody><tr><th scope="col">Item</th><th scope="col">Qty</th><th scope="col">Total</th></tr>',console.log(s),e.next=11,E.getStoreItems();case 11:for(c=e.sent,i=0,l=0;l<s.length;l++)for(d=0;d<c.length;d++)if(s[l]===c[d].id.toString()){if(p=c[d].items,"pack"===c[d].category){for(u=p.split(","),b="<b>Food pack</b>",j=0;j<u.length;j++)b+="<li>"+u[j]+"</li>";p=b}for(m=!0,h=0;h<n.length;h++)n[h].desc===p&&(f={desc:n[h].desc,qty:n[h].qty+1,total:parseFloat(n[h].total)+parseFloat(c[d].price)},n[h]=f,h=n.length,m=!1);!0===m&&(y={desc:p,qty:1,total:parseFloat(c[d].price)},n.push(y)),d=c.length}for(v=0;v<n.length;v++)t+="<tr><td>"+n[v].desc+"</td><td>"+n[v].qty+"</td><td>$"+n[v].total.toFixed(2)+"</td></tr>",i+=parseFloat(n[v].total);t+="<tr><td><b>Total</b></td><td></td><td><b>$"+i.toFixed(2)+"</b></td></tr>",sessionStorage.setItem("orderTotal",i),t+="</tbody></table></div>",x=sessionStorage.getItem("orderDetails"),g=JSON.parse(x),document.getElementById("deliveryDetails").innerHTML='\n                <hr></hr>\n                <div class="boxDiv">\n                    <h4>Your Details</h4>\n                    <p>You can edit this <a href=\'#delivery\'>here</a></p>\n                    <table class="table"><tbody>\n                    <tr><th>Purchaser:</th><td>'+g.username+"</td></tr>\n                    <tr><th>Purchaser phone:</th><td>"+g.userphone+'</td></tr>\n                    </tbody></table>\n                </div>\n                <br>\n                <hr></hr>\n                <br>\n                <div class="boxDiv">\n                    <h4>Delivery Details</h4>\n                    <p>You can edit this <a href=\'#delivery\'>here</a></p>\n                    <table class="table"><tbody>\n                    <tr><th>Name:</th><td>'+g.name+"</td></tr>\n                    <tr><th>Address:</th><td>"+g.address+"</td></tr>\n                    <tr><th>Purchaser phone:</th><td>"+g.phone+"</td></tr>\n                    <tr><th>Notes:</th><td>"+g.notes+"</td></tr>\n                    </tbody></table>\n                </div>\n                ",e.next=24;break;case 23:t="<p>You haven't selected any items to be donated. Please <a href='#delivery'>Click here</a> to select items to donate</p>";case 24:e.next=27;break;case 26:t="<p>You haven't selected any items to be donated. Please <a href='#donate-food'>Click here</a> to select items to donate</p>";case 27:document.getElementsByClassName("spinner")[0].style.display="none",document.getElementById("myItems").innerHTML=t;case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=Object(l.a)(o.a.mark((function e(){var t,n,a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=sessionStorage.getItem("savedEmail"),n=sessionStorage.getItem("myCart"),a=sessionStorage.getItem("orderDetails"),!(r=sessionStorage.getItem("orderTotal"))){e.next=11;break}if(console.log("total:"+r),!(r>0)){e.next=11;break}return e.next=9,E.createOrder(t,n,r,a);case 9:c=e.sent,s.push("/payment?receipt="+c+"#");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){if(0===n){var e=sessionStorage.getItem("savedEmail");e?(console.log("savedmail is "+e),function(){c.apply(this,arguments)}()):s.push("/")}})),Object(m.jsxs)("div",{className:"Confirmation",children:[Object(m.jsxs)("div",{className:"content",children:[Object(m.jsx)("br",{}),Object(m.jsx)("div",{id:"alertNotification"}),Object(m.jsx)("br",{}),Object(m.jsx)("h3",{children:"Order Summary"}),Object(m.jsx)("br",{}),Object(m.jsx)("p",{children:"Thank you for your generosity. Please enter the payment details below:"}),Object(m.jsx)("br",{}),Object(m.jsx)("a",{href:"#my-cart",children:"Alter order"}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)(S.a,{animation:"border",className:"spinner"}),Object(m.jsx)("div",{id:"myItems"}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{id:"deliveryDetails"}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("button",{type:"button",className:"btn btn-success",onClick:function(){return i.apply(this,arguments)},children:"Proceed with payment options"})]}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{})]})},K=function(){var e=Object(a.useState)(0),t=Object(f.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(""),c=Object(f.a)(s,2),i=c[0],p=c[1],u=Object(a.useState)(""),h=Object(f.a)(u,2),y=h[0],v=h[1],x=Object(a.useState)(""),g=Object(f.a)(x,2),O=g[0],k=g[1],N=Object(a.useState)(""),S=Object(f.a)(N,2),C=S[0],w=S[1],I=Object(d.f)();function B(){return(B=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage.getItem("savedEmail"),e.next=3,E.getUserDetails(t);case 3:n=e.sent,document.getElementById("purchasorUserName").value=n.firstName+" "+n.lastName,document.getElementById("purchasorPhone").value=n.userphone,console.log("details"),console.log(n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(l.a)(o.a.mark((function e(){var t,n,a,r,s,c,i,l,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage.getItem("myCart"),n=sessionStorage.getItem("orderDetails"),a=JSON.parse(n),r=t.split(","),e.next=6,E.getFood();case 6:for(s=e.sent,c=0,i=0;i<r.length;i++)for(l=0;l<s.length;l++)r[i]===s[l].id.toString()&&(c+=s[l].price,l=s.length);d=1,c<=0&&(d=0,A("alert-danger","Your order is invalid")),a&&""!==a.name&&""!==a.address||(d=0,A("alert-danger","Your recipient cannot be left blank")),1===d&&(sessionStorage.setItem("orderTotal",c),I.push("/confirmation"));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t){var n=document.getElementById("alertNotification").innerHTML,a=document.getElementsByClassName("notificationBadge").length;n+='\n        <div class="notificationBadge">\n            <div class="'+e+'" role="alert">\n                '+t+"\n            </div>\n        </div>                \n        ",document.getElementById("alertNotification").innerHTML=n,setTimeout((function(){document.getElementsByClassName("notificationBadge")[a]&&(document.getElementsByClassName("notificationBadge")[a].style.display="none")}),4e3)}return Object(a.useEffect)((function(){if(0===n){var e=sessionStorage.getItem("savedEmail");e?(console.log("savedmail is "+e),r(1),function(){B.apply(this,arguments)}()):I.push("/")}})),Object(m.jsxs)("div",{className:"Delivery",children:[Object(m.jsxs)("div",{className:"content",children:[Object(m.jsx)("br",{}),Object(m.jsx)("div",{id:"alertNotification"}),Object(m.jsx)("br",{}),Object(m.jsx)("h3",{children:"Delivery details"}),Object(m.jsx)("br",{}),Object(m.jsx)("hr",{}),Object(m.jsx)("br",{}),Object(m.jsx)("h4",{children:"My details"}),Object(m.jsx)("p",{children:"Please confirm these are your details"}),Object(m.jsx)("form",{children:Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:"Your name"}),Object(m.jsx)("input",{id:"purchasorUserName",required:!0,className:"form-control",type:"text"}),Object(m.jsx)("br",{}),Object(m.jsx)("label",{children:"Your phone number"}),Object(m.jsx)("input",{id:"purchasorPhone",required:!0,className:"form-control",type:"text"})]})}),Object(m.jsx)("br",{}),Object(m.jsx)("hr",{}),Object(m.jsx)("br",{}),Object(m.jsx)("h4",{children:"Recipient details"}),Object(m.jsx)("p",{children:"Please enter the name and address you wish these items to be donated to"}),Object(m.jsx)("div",{className:"recipient",children:Object(m.jsxs)(b.a,{onSubmit:function(e){e.preventDefault();var t={name:i,address:y,phone:O,notes:C,username:document.getElementById("purchasorUserName").value,userphone:document.getElementById("purchasorPhone").value};sessionStorage.setItem("orderDetails",JSON.stringify(t)),function(){D.apply(this,arguments)}()},autoComplete:"off",children:[Object(m.jsxs)(b.a.Group,{controlId:"formName",children:[Object(m.jsx)(b.a.Label,{children:"Name of recipient (the person or people receiving the item)"}),Object(m.jsx)(b.a.Control,{required:!0,value:i,onChange:function(e){return p(e.target.value)},type:"text",placeholder:"Name"})]}),Object(m.jsxs)(b.a.Group,{controlId:"formAddress",children:[Object(m.jsx)(b.a.Label,{children:"Address"}),Object(m.jsx)(b.a.Control,{required:!0,value:y,onChange:function(e){return v(e.target.value)},type:"text",placeholder:"Address"})]}),Object(m.jsxs)(b.a.Group,{controlId:"formPhone",children:[Object(m.jsx)(b.a.Label,{children:"Phone"}),Object(m.jsx)(b.a.Control,{required:!0,value:O,onChange:function(e){return k(e.target.value)},type:"text",placeholder:"Phone"})]}),Object(m.jsxs)(b.a.Group,{controlId:"formTextArea",children:[Object(m.jsx)(b.a.Label,{children:"Other Notes"}),Object(m.jsx)(b.a.Control,{as:"textarea",value:C,onChange:function(e){return w(e.target.value)},type:"textarea",placeholder:"Other Notes"})]}),Object(m.jsx)(j.a,{variant:"success",type:"submit",children:"Confirm"})]})}),Object(m.jsx)("br",{})]}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{})]})},Z=n.p+"static/media/paypal.562d7c41.png",V=function(){var e=Object(a.useState)(0),t=Object(f.a)(e,2),n=t[0],r=t[1],s=Object(d.f)();function c(){return(c=Object(l.a)(o.a.mark((function e(){var t,n,a,s,c,i,l,d,p,u,b,j,m,h,f,y,v,x,g,O,k;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r(1),t="",n=[],!(a=sessionStorage.getItem("myCart"))){e.next=27;break}if(1===(s=a.split(",")).length&&"null"===s[0]){e.next=24;break}return t='<div class="boxDiv"><h4>Your Items</h4><br /><table class="table"><tbody><tr><th scope="col">Item</th><th scope="col">Qty</th><th scope="col">Total</th></tr>',console.log(s),e.next=11,E.getStoreItems();case 11:for(c=e.sent,i=0,l=0;l<s.length;l++)for(d=0;d<c.length;d++)if(s[l]===c[d].id.toString()){if(p=c[d].items,"pack"===c[d].category){for(u=p.split(","),b="<b>Food pack</b>",j=0;j<u.length;j++)b+="<li>"+u[j]+"</li>";p=b}for(m=!0,h=0;h<n.length;h++)n[h].desc===p&&(f={desc:n[h].desc,qty:n[h].qty+1,total:parseFloat(n[h].total)+parseFloat(c[d].price)},n[h]=f,h=n.length,m=!1);!0===m&&(y={desc:p,qty:1,total:parseFloat(c[d].price)},n.push(y)),d=c.length}for(v=0;v<n.length;v++)t+="<tr><td>"+n[v].desc+"</td><td>"+n[v].qty+"</td><td>$"+n[v].total.toFixed(2)+"</td></tr>",i+=parseFloat(n[v].total);t+="<tr><td><b>Total</b></td><td></td><td><b>$"+i.toFixed(2)+"</b></td></tr>",t+="</tbody></table></div>",(x=window.location.href).includes("receipt=")&&x.includes("#")&&(g=x.split("receipt=")[1].split("#"),document.getElementById("receiptID").innerHTML="Your receipt number is <b>"+g+"</b>. Please include this in your reference number during payment.",document.getElementById("receiptID").innerHTML+="<br><b>Please keep this receipt number handy to keep track of your order</b>",document.getElementById("receiptID").innerHTML+="<br>Click <a href='"+x.split("payment")[0]+"printReceipt?receipt="+g+"&"+a+"&"+sessionStorage.getItem("orderDetails")+"'>here</a> for a printer friendly version of the receipt",document.getElementById("referenceID").innerHTML=g,"none"!==document.getElementById("paymentCredit").style.display&&(document.getElementById("reference01").value=g,document.getElementById("reference01").readOnly=!0)),O=sessionStorage.getItem("orderDetails"),k=JSON.parse(O),document.getElementById("deliveryDetails").innerHTML='\n                <div class="boxDiv">\n                    <h4>Delivery Details</h4>\n                    <table><tbody>\n                    <tr><th>Name:</th><td>'+k.name+"</td></tr>\n                    <tr><th>Address:</th><td>"+k.address+"</td></tr>\n                    <tr><th>Purchaser phone:</th><td>"+k.phone+"</td></tr>\n                    <tr><th>Notes:</th><td>"+k.notes+"</td></tr>\n                    </tbody></table>\n                </div>\n                ",e.next=25;break;case 24:t="<p>You haven't selected any items to be donated. Please <a href='#donate-food'>Click here</a> to select items to donate</p>";case 25:e.next=28;break;case 27:t="<p>You haven't selected any items to be donated. Please <a href='#donate-food'>Click here</a> to select items to donate</p>";case 28:document.getElementsByClassName("spinner")[0].style.display="none",document.getElementsByClassName("paymentSection")[0].style.display="block",document.getElementById("myItems").innerHTML=t;case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(e){document.getElementById("paymentCredit").style.display="none",document.getElementById("paymentBank").style.display="none",document.getElementById("paymentPaypal").style.display="none",document.getElementById(e).style.display="block"}return Object(a.useEffect)((function(){if(document.getElementsByClassName("paymentSection")[0].style.display="none",0===n){var e=sessionStorage.getItem("savedEmail");e?(console.log("savedmail is "+e),document.getElementsByClassName("Navbartop")[0].style.display="block",document.getElementsByClassName("Footerbottom")[0].style.display="block",function(){c.apply(this,arguments)}()):s.push("/")}})),Object(m.jsxs)("div",{className:"Payment",children:[Object(m.jsxs)("div",{className:"content",children:[Object(m.jsx)("br",{}),Object(m.jsx)("div",{id:"alertNotification"}),Object(m.jsx)("br",{}),Object(m.jsx)("h3",{children:"Confirm donation"}),Object(m.jsx)("br",{}),Object(m.jsx)("p",{children:"Thank you for your generosity. Please enter the payment details below:"}),Object(m.jsx)("br",{}),Object(m.jsx)("h4",{children:"Your receipt:"}),Object(m.jsx)("div",{id:"receiptID"}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)(S.a,{animation:"border",className:"spinner"}),Object(m.jsx)("h4",{children:"Payment section"}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{className:"paymentSection",children:[Object(m.jsx)("table",{children:Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{className:"paymentTable",rowSpan:"2",children:Object(m.jsxs)("div",{id:"paymentProcess",className:"boxDiv",children:[Object(m.jsx)("h4",{children:"Please select the method of payment"}),Object(m.jsx)("br",{}),Object(m.jsx)("table",{children:Object(m.jsx)("tbody",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("button",{className:"btn btn-info",onClick:function(){return i("paymentCredit")},children:"Credit Card"})}),Object(m.jsx)("td",{children:Object(m.jsx)("button",{className:"btn btn-info",onClick:function(){return i("paymentBank")},children:"Bank Transfer"})}),Object(m.jsx)("td",{children:Object(m.jsx)("button",{className:"btn btn-info",onClick:function(){return i("paymentPaypal")},children:"Paypal"})})]})})}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{id:"paymentCredit",children:[Object(m.jsx)(H,{}),Object(m.jsx)("button",{class:"btn btn-primary",type:"submit",children:"Submit payment"})]}),Object(m.jsx)("div",{id:"paymentBank",style:{display:"none"},children:Object(m.jsx)("table",{children:Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("b",{children:"BSB:"})}),Object(m.jsx)("td",{children:"0123 4567"})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("b",{children:"Account Number:"})}),Object(m.jsx)("td",{children:"0123 4567 8901"})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("b",{children:"Reference:"})}),Object(m.jsx)("td",{id:"referenceID",children:"0123 4567 8901"})]})]})})}),Object(m.jsxs)("div",{id:"paymentPaypal",style:{display:"none"},children:[Object(m.jsx)("img",{src:Z,alt:"card"}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("button",{class:"btn btn-primary",children:"Sign in via paypal"})]})]})}),Object(m.jsx)("td",{className:"paymentTable",children:Object(m.jsx)("div",{id:"myItems"})})]}),Object(m.jsx)("tr",{children:Object(m.jsx)("td",{className:"paymentTable",children:Object(m.jsx)("div",{id:"deliveryDetails"})})})]})}),Object(m.jsx)("br",{})]})]}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{})]})},_=function(){var e=Object(a.useState)(0),t=Object(f.a)(e,2),n=t[0],r=t[1],s=Object(d.f)();function c(){return(c=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.location.href.includes("#medicineID")?document.getElementById("headingID").innerHTML="Donate Medicinal Equipment":document.getElementById("headingID").innerHTML="Donate a Customised Pack",document.getElementsByClassName("spinner")[0].style.display="block",e.next=5,E.getFood();case 5:i(e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(e){return p.apply(this,arguments)}function p(){return(p=Object(l.a)(o.a.mark((function e(t){var n,a,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r(1),n=[],a=0;a<t.length;a++)"pack"!==t[a].category&&(window.location.href.includes("#medicineID")?"medicinal"===t[a].category&&n.push(t[a]):n.push(t[a]));if(s="",!(n.length>0)){e.next=11;break}for(s+="<hr></hr><table class='productList'><tbody>",c=0;c<n.length;c++)c%4===0&&(s+=0===c?"<tr>":"</tr><tr>"),s+="\n                <td>\n                    <div class='card'>                    \n                        <h5 class='desc'>"+n[c].desc+" - $"+n[c].price+'</h5>\n                        <img card-img-top src="'+n[c].src+"\"></img>\n                        <br>\n                        <div class='btnClass'><button class='addToCartBtn btn btn-primary btn-sm' value=\""+n[c].id+"\">&#43;</button><div class='qty'> "+u(n[c].id)+"</div><button class='removeItemBtn btn btn-secondary btn-sm' value=\""+n[c].id+'">-</button></div>\n                    </div>\n                </td>\n                ';return s+="</tr></tbody></table>",document.getElementById("foodItems")&&(document.getElementById("foodItems").innerHTML=s,document.getElementsByClassName("spinner")[0].style.display="none"),e.next=11,j(t);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){var t=0,n=sessionStorage.getItem("myCart");if(n){n=n.split(",");for(var a=0;a<n.length;a++)parseInt(n[a])===parseInt(e)&&t++}return t}function b(e,t){console.log("item was "+e);var n=sessionStorage.getItem("myCart");n=n.split(",");for(var a=0;a<n.length;a++)n[a]===e&&(n.splice(a,1),a=n.length);n=n.toString(),sessionStorage.setItem("myCart",n),i(t)}function j(e){return h.apply(this,arguments)}function h(){return(h=Object(l.a)(o.a.mark((function e(t){var n,a,r,s,c,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=document.getElementsByClassName("addToCartBtn"),a=function(e){n[e].onclick=Object(l.a)(o.a.mark((function a(){var r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=sessionStorage.getItem("myCart"),r+=","+n[e].value,console.log(r),sessionStorage.setItem("myCart",r),i(t);case 5:case"end":return a.stop()}}),a)})))},r=0;r<n.length;r++)a(r);for(s=document.getElementsByClassName("removeItemBtn"),c=function(e){s[e].onclick=Object(l.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:b(s[e].value,t);case 1:case"end":return n.stop()}}),n)})))},d=0;d<s.length;d++)c(d);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){if(0===n){var e=sessionStorage.getItem("savedEmail");e?(console.log("savedmail is "+e),function(){c.apply(this,arguments)}()):s.push("/")}})),Object(m.jsxs)("div",{className:"Custom",children:[Object(m.jsxs)("div",{className:"content",children:[Object(m.jsx)("br",{}),Object(m.jsx)("div",{id:"alertNotification"}),Object(m.jsx)("br",{}),Object(m.jsx)("h3",{id:"headingID",children:"Donate a Customised Pack"}),Object(m.jsx)("br",{}),Object(m.jsx)("p",{children:"Thank you for your generosity. Please select which items you wish to purchase and donate:"}),Object(m.jsxs)("p",{children:["You can alter this list in ",Object(m.jsx)("a",{href:"#my-cart",children:"My Cart"})," on the next page"]}),Object(m.jsx)("br",{}),Object(m.jsx)(S.a,{animation:"border",className:"spinner"}),Object(m.jsx)("div",{id:"foodItems"}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("hr",{}),Object(m.jsx)("div",{className:"confirmBtn",children:Object(m.jsx)("button",{type:"button",className:"btn btn-success",onClick:function(){s.push("/my-cart")},children:"Confirm donation items"})})]}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{})]})},X=function(){var e=Object(d.f)();function t(){return(t=Object(l.a)(o.a.mark((function e(){var t,a,r,s,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("starting up"),e.next=3,E.getFamilies();case 3:for(t=e.sent,a="",r=0;r<t.length;r++)r<10?(s="",r%2!==0&&(s=" sponsorCardRight"),a+='\n                <div class="sponsorCard'+s+'">\n                    <img src="'+t[r].image+'" alt="sponsor" />\n                    <div class="text">\n                        <b>'+t[r].family+"</b>\n                        <p>"+t[r].desc+"</p>\n                        <button class='sponsorBtn btn btn-primary' value='"+t[r].id+"'>Sponsor "+t[r].family+" for $"+t[r].amount+" a month</button>\n                    </div>                \n                </div>\n            "):r=t.length;for(c=document.getElementsByClassName("sponsorCard"),i=1;i<c.length;i+=2)document.getElementsByClassName("sponsorCard")[i].classList.add("sponsorCardRight");return document.getElementById("familiesDiv").innerHTML=a,document.getElementsByClassName("spinner")[0].style.display="none",e.next=12,n();case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return r.apply(this,arguments)}function r(){return(r=Object(l.a)(o.a.mark((function t(){var n,a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=document.getElementsByClassName("sponsorBtn"),a=function(t){n[t].onclick=Object(l.a)(o.a.mark((function a(){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.push("/sponsorFamily?family="+n[t].value);case 1:case"end":return a.stop()}}),a)})))},r=0;r<n.length;r++)a(r);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){t.apply(this,arguments)}()})),Object(m.jsx)("div",{className:"Sponsor",children:Object(m.jsxs)("div",{className:"content",children:[Object(m.jsx)("br",{}),Object(m.jsx)("h4",{children:"Sponsor a family"}),Object(m.jsx)("br",{}),Object(m.jsx)("p",{children:"With your donations, you will receive updates on the wellbeing of your chosen family."}),Object(m.jsx)("br",{}),Object(m.jsx)(S.a,{animation:"border",className:"spinner"}),Object(m.jsx)("div",{id:"familiesDiv"})]})})},Q=function(){var e=Object(d.f)();function t(){return(t=Object(l.a)(o.a.mark((function e(t){var n,a,r,s,c,i,l,d,p,u,b,j,m,h,f,y,v,x,g,O,k,N,S;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=window.location.href).includes("receipt=")||!n.includes("#")){e.next=25;break}return a=(a=n.split("receipt=")[1].split("#")[0]).replaceAll("%22",'"').replaceAll("%20"," "),r=a.split("&")[0],s=window.location.href,c="<br><a href='"+s.split("printReceipt")[0]+"payment?receipt="+r+"'>Go back</a>",c+="<br><h3>Receipt Number: "+r+"</h3><br><br>",i=[],l=a.split("&")[1],d=l.split(","),c+='<div class="boxDiv"><h4>Your Items</h4><br /><table class="table"><tbody><tr><th scope="col">Item</th><th scope="col">Qty</th><th scope="col">Total</th></tr>',e.next=14,E.getStoreItems();case 14:for(p=e.sent,u=0,b=0;b<d.length;b++)for(j=0;j<p.length;j++)if(d[b]===p[j].id.toString()){if(m=p[j].items,"pack"===p[j].category){for(h=m.split(","),f="<b>Food pack</b>",y=0;y<h.length;y++)f+="<li>"+h[y]+"</li>";m=f}for(v=!0,x=0;x<i.length;x++)i[x].desc===m&&(g={desc:i[x].desc,qty:i[x].qty+1,total:parseFloat(i[x].total)+parseFloat(p[j].price)},i[x]=g,x=i.length,v=!1);!0===v&&(O={desc:m,qty:1,total:parseFloat(p[j].price)},i.push(O)),j=p.length}for(k=0;k<i.length;k++)c+="<tr><td>"+i[k].desc+"</td><td>"+i[k].qty+"</td><td>$"+i[k].total.toFixed(2)+"</td></tr>",u+=parseFloat(i[k].total);c+="<tr><td><b>Total</b></td><td></td><td><b>$"+u.toFixed(2)+"</b></td></tr>",c+="</tbody></table></div>",N=a.split("&")[2],S=JSON.parse(N),c+='\n            <br><br>\n            <div class="boxDiv">\n                <h4>Delivery Details</h4>\n                <table><tbody>\n                <tr><th>Name:</th><td>'+S.name+"</td></tr>\n                <tr><th>Address:</th><td>"+S.address+"</td></tr>\n                <tr><th>Purchaser phone:</th><td>"+S.phone+"</td></tr>\n                <tr><th>Notes:</th><td>"+S.notes+"</td></tr>\n                </tbody></table>\n            </div>\n            ",document.getElementById("receiptID").innerHTML=c,window.print();case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){var n=sessionStorage.getItem("savedEmail");n?(console.log("savedmail is "+n),document.getElementsByClassName("Navbartop")[0].style.display="none",document.getElementsByClassName("Footerbottom")[0].style.display="none",function(e){t.apply(this,arguments)}(n)):e.push("/")})),Object(m.jsx)("div",{className:"PrintReceipt",children:Object(m.jsx)("div",{id:"receiptID"})})},$=function(){var e=Object(d.f)();function t(){return(t=Object(l.a)(o.a.mark((function t(){var n,a,r,s,c,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("starting up"),n=window.location.href,a=n.split("?family="),r="",!(a.length>1)){t.next=12;break}return a=a[1],t.next=8,E.getFamilies();case 8:for(s=t.sent,c=!1,i=0;i<s.length;i++)parseInt(a)===s[i].id&&(c=!0,r="Sponsor "+s[i].family+" - $"+s[i].amount+" a month",i=s.length,document.getElementById("familyID").innerHTML=r,document.getElementById("reference01").value=r,document.getElementById("reference01").readOnly=!0);!1===c&&e.push("/");case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function n(){return(n=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.location.href,!((n=t.split("?family=")).length>1)){e.next=7;break}return n=n[1],e.next=6,E.setSponsored(parseInt(n));case 6:r("alert alert-success","Success");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function r(e,t){var n=document.getElementById("alertNotification").innerHTML,a=document.getElementsByClassName("notificationBadge").length;n+='\n      <div class="notificationBadge">\n          <div class="'+e+'" role="alert">\n              '+t+"\n          </div>\n      </div>                \n      ",document.getElementById("alertNotification").innerHTML=n,setTimeout((function(){document.getElementsByClassName("notificationBadge")[a]&&(document.getElementsByClassName("notificationBadge")[a].style.display="none")}),4e3)}return Object(a.useEffect)((function(){!function(){t.apply(this,arguments)}()})),Object(m.jsx)("div",{className:"SponsorFamily",children:Object(m.jsxs)("div",{className:"content",children:[Object(m.jsx)("br",{}),Object(m.jsx)("div",{id:"alertNotification"}),Object(m.jsx)("h4",{id:"familyID",children:"Sponsor a family"}),Object(m.jsx)("br",{}),Object(m.jsx)("p",{children:"With your donations, you will receive updates on the wellbeing of your chosen family."}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{id:"creditCardDiv",className:"sponsorDiv",children:[Object(m.jsx)("h5",{children:"Your Credit Card Details"}),Object(m.jsx)("br",{}),Object(m.jsx)(H,{}),Object(m.jsx)("button",{className:"btn btn-primary",type:"submit",onClick:function(){return n.apply(this,arguments)},children:"Confirm details"})]})]})})},ee=function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("starting up"),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(t="Mobile",document.getElementsByClassName("App")[0].className=t):t="Computer",console.log(t),(n=sessionStorage.getItem("savedEmail"))?(console.log("savedmail is "+n),document.getElementsByClassName("Navbartop")[0].style.display="block",document.getElementsByClassName("Footerbottom")[0].style.display="block"):(document.getElementsByClassName("Navbartop")[0].style.display="none",document.getElementsByClassName("Footerbottom")[0].style.display="none");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){console.log(window.location.href),function(){e.apply(this,arguments)}()})),Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(h,{}),Object(m.jsxs)(d.c,{children:[Object(m.jsx)(d.a,{path:"/",component:C,exact:!0}),Object(m.jsx)(d.a,{path:"/home",component:L}),Object(m.jsx)(d.a,{path:"/donate-money",component:G}),Object(m.jsx)(d.a,{path:"/donate-food",component:q}),Object(m.jsx)(d.a,{path:"/my-cart",component:Y}),Object(m.jsx)(d.a,{path:"/delivery",component:K}),Object(m.jsx)(d.a,{path:"/admin",component:W}),Object(m.jsx)(d.a,{path:"/confirmation",component:z}),Object(m.jsx)(d.a,{path:"/payment",component:V}),Object(m.jsx)(d.a,{path:"/custom",component:_}),Object(m.jsx)(d.a,{path:"/sponsor",component:X}),Object(m.jsx)(d.a,{path:"/sponsorFamily",component:$}),Object(m.jsx)(d.a,{path:"/printReceipt",component:Q}),Object(m.jsx)(d.a,{component:M})]}),Object(m.jsx)(J,{})]})},te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,307)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))},ne=n(24);c.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(ne.a,{children:Object(m.jsx)(ee,{})})}),document.getElementById("root")),te()},70:function(e,t,n){}},[[304,1,2]]]);
//# sourceMappingURL=main.3c829b5e.chunk.js.map