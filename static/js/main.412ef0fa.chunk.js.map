{"version":3,"sources":["Navbartop.js","firebase.js","LoginForm.js","img/field1.jpg","img/field2.jpg","img/field3.jpg","img/field4.jpg","img/foodDonate.jpg","img/clothesDonate.jpg","img/moneyDonate.jpg","Home.js","ErrorPage.js","donate-money.js","donate-food.js","Footerbottom.js","my-cart.js","Admin.js","confirmation.js","App.js","reportWebVitals.js","index.js"],"names":["Navbartop","useEffect","savedEmail","sessionStorage","getItem","console","log","document","getElementsByClassName","style","display","className","Navbar","bg","expand","variant","Brand","href","Toggle","aria-controls","Collapse","id","Nav","Link","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","app","initializeApp","this","auth","db","firestore","u_id","currentUserID","currentUsername","email","myCart","t","details","a","firebase","database","ref","once","x","valid","receipt","result","charactersLength","characters","length","i","push","charAt","Math","floor","random","k","join","val","CryptoJS","AES","decrypt","toString","enc","Utf8","user","encrypt","items","total","confirmed","name","f","firstName","l","lastName","order","orders","o","token","code","dt","Date","setDate","getDate","d","getUTCDate","m","getUTCMonth","y","getUTCFullYear","date","parseInt","exp_date","is_valid","tokens","v","dataKey","key","objKey","Object","keys","child","set","password","address","phone","emailEncrypted","passwordEncrypted","firstNameEncrypted","lastNameEncrypted","addressEncrypted","phoneEncrypted","x2","food","description","desc","src","imageSrc","price","img","remove","LoginForm","useState","pageLoaded","setPageloaded","setEmail","setPassword","password2","setPassword2","setFirstname","setLastname","phoneNumber","setPhonenumber","setAddress","history","useHistory","tkn","validated","getTokens","event","preventDefault","loginUser","setItem","togglePasswordAlert","creatingUser","toggleUserAlert","begin","Spinner","animation","Form","onSubmit","Group","controlId","Label","Control","required","value","onChange","e","target","type","placeholder","Button","Alert","onClose","dismissible","Home","chapters","backgroundColor","styling","Carousel","Item","interval","field1","alt","Caption","field2","field3","field4","Card","Img","foodDonate","Body","Title","Text","onClick","clothesDonate","moneyDonate","ErrorPage","url","window","location","includes","split","tokenCheck","DonateMoney","cardNumber","setCardnumber","setName","getElementById","innerHTML","setReference","Accordion","defaultActiveKey","Header","as","eventKey","DonateFood","getFood","html","addToCartBtnsActivate","btns","onclick","addNotification","msg","notificationCount","setTimeout","Footerbottom","MyCart","getItems","myList","myItems","j","newItem","item","qty","parseFloat","removeText","test","navigator","userAgent","setBtns","removeCartItem","btnsAdd","addToCart","btnsRem","removeFromCart","splice","orderDetails","obj","JSON","parse","myCart2","pass","createOrder","stringify","confirmation","autoComplete","Admin","setDesc","setSrc","setPrice","setReceipt","getPendingOrders","pendingOrders","p","myItemsHtml","deliveryDetails","getUserDetails","setCompleted","validateOrder","getConfirmedOrders","confirmedOrders","removeItem","proceed","replace","addItem","getOrderById","writeToken","prompt","passEncrypt","adminCheck","getCompletedOrders","Confirmation","receiptNum","confirmPayment","Check","label","App","userType","path","component","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.412ef0fa.chunk.js","sourcesContent":["import React, {useEffect} from 'react';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport Nav from 'react-bootstrap/Nav';\r\n\r\nconst Navbartop = () => {\r\n    \r\n    useEffect(() => {\r\n        let savedEmail = sessionStorage.getItem(\"savedEmail\");\r\n        if (savedEmail) {\r\n            console.log(\"savedmail is \" + savedEmail);\r\n            document.getElementsByClassName(\"Navbartop\")[0].style.display = \"block\";\r\n        } else {\r\n            document.getElementsByClassName(\"Navbartop\")[0].style.display = \"none\";\r\n        }\r\n    });\r\n    return (\r\n        <div className=\"Navbartop\">\r\n            <Navbar bg=\"dark\" expand=\"lg\" variant=\"dark\">\r\n                <Navbar.Brand href=\"#home\">Care</Navbar.Brand>\r\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                    <Nav className=\"mr-auto\">\r\n                        <Nav.Link href=\"#home\">Home</Nav.Link>\r\n                        <Nav.Link href=\"#donate-food\">Donate Food</Nav.Link>\r\n                        <Nav.Link href=\"#my-cart\">My Cart</Nav.Link>\r\n                    </Nav>\r\n                </Navbar.Collapse>\r\n            </Navbar>\r\n        </div>      \r\n    );\r\n}\r\n\r\nexport default Navbartop;\r\n","// tomreact8\r\n// React123!\r\n\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\nimport app from 'firebase/app';\r\nimport CryptoJS from 'crypto-js';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyAHN7qi76sqh-ZHSlAGryJEbTvxcsvFJaY\",\r\n    authDomain: \"user-database-test-9ee1d.firebaseapp.com\",\r\n    databaseURL: \"https://user-database-test-9ee1d.firebaseio.com\",\r\n    projectId: \"user-database-test-9ee1d\",\r\n    storageBucket: \"user-database-test-9ee1d.appspot.com\",\r\n    messagingSenderId: \"425239506606\",\r\n    appId: \"1:425239506606:web:decf3cc0780d2d8e9d073f\"\r\n};\r\n\r\nclass Firebase {\r\n    \r\n    constructor() {\r\n        app.initializeApp(firebaseConfig);\r\n        this.auth = app.auth();\r\n        this.db = app.firestore;\r\n        this.u_id = 0;\r\n        this.currentUserID = 0;\r\n        this.currentUsername = \"\";        \r\n    }\r\n\r\n    async createOrder(email, myCart, t, details) {\r\n        // gen receipt code\r\n        // validate receipt code\r\n        let x = await firebase.database().ref(\"care_orders\").once('value');\r\n        let valid = false;\r\n        let receipt = \"\";\r\n        while (valid === false) {\r\n            valid = true;\r\n            let result = [];\r\n            let characters = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';\r\n            let charactersLength = characters.length;\r\n            for (let i = 0; i < 7; i++ ) {\r\n                result.push(characters.charAt(Math.floor(Math.random() * charactersLength)));\r\n            }\r\n            receipt = result.join('');\r\n            for (let k in x.val()) {\r\n                if (x.val()[k].receipt) {\r\n                    if (receipt === CryptoJS.AES.decrypt(x.val()[k].receipt, \"receiptEncrypted\").toString(CryptoJS.enc.Utf8)) {\r\n                        valid = false;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        \r\n        // get totals, items and user\r\n        // let token = email;\r\n        // let tokenEncrypted = CryptoJS.AES.encrypt(token, \"tokenEncrypted\").toString();\r\n        // console.log(\"1) \" + token);        \r\n        // console.log(\"2) \" + tokenEncrypted); // save this to db\r\n        // console.log(\"3) \" + CryptoJS.AES.decrypt(tokenEncrypted, \"tokenEncrypted\").toString());\r\n        // console.log(\"4) \" + CryptoJS.AES.decrypt(tokenEncrypted, \"tokenEncrypted\").toString(CryptoJS.enc.Utf8)); // decrypted\r\n        await firebase.database().ref(\"care_orders\").push({\r\n            user : CryptoJS.AES.encrypt(email, \"emailEncrypted\").toString(),\r\n            items : CryptoJS.AES.encrypt(myCart, \"mycartEncrypted\").toString(),\r\n            receipt : CryptoJS.AES.encrypt(receipt, \"receiptEncrypted\").toString(),\r\n            total : CryptoJS.AES.encrypt(t.toString(), \"totalEncrypted\").toString(),\r\n            details : CryptoJS.AES.encrypt(details, \"detailsEncrypted\").toString(),\r\n            confirmed : 0\r\n        });\r\n        console.log(\"order has been added to database\");\r\n        return receipt;\r\n    }\r\n\r\n    async getUserDetails(email) {\r\n        let name = \"\";\r\n        let x = await firebase.database().ref(\"care_users\").once('value');\r\n        for (let k in x.val()) {\r\n            if (CryptoJS.AES.decrypt(x.val()[k].email, \"emailEncrypted\").toString(CryptoJS.enc.Utf8) === email) {\r\n                let f = CryptoJS.AES.decrypt(x.val()[k].firstName, \"firstNameEncrypted\").toString(CryptoJS.enc.Utf8);\r\n                let l = CryptoJS.AES.decrypt(x.val()[k].lastName, \"lastNameEncrypted\").toString(CryptoJS.enc.Utf8);\r\n                name = f + \" \" + l;\r\n                return name;\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    async getOrderById(receipt) {\r\n        let order = {};\r\n        let x = await firebase.database().ref(\"care_orders\").once('value');\r\n        for (let k in x.val()) {\r\n            if (CryptoJS.AES.decrypt(x.val()[k].receipt, \"receiptEncrypted\").toString(CryptoJS.enc.Utf8) === receipt) {\r\n                order = {\r\n                    user: CryptoJS.AES.decrypt(x.val()[k].user, \"emailEncrypted\").toString(CryptoJS.enc.Utf8),\r\n                    items: CryptoJS.AES.decrypt(x.val()[k].items, \"mycartEncrypted\").toString(CryptoJS.enc.Utf8),\r\n                    total: CryptoJS.AES.decrypt(x.val()[k].total, \"totalEncrypted\").toString(CryptoJS.enc.Utf8),\r\n                    details: CryptoJS.AES.decrypt(x.val()[k].details, \"detailsEncrypted\").toString(CryptoJS.enc.Utf8),\r\n                    confirmed: x.val()[k].confirmed\r\n                }\r\n                return order;\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    async getPendingOrders() {\r\n        let orders = [];\r\n        let x = await firebase.database().ref(\"care_orders\").once('value');\r\n        for (let k in x.val()) {\r\n            if (x.val()[k].details) {\r\n                if (x.val()[k].confirmed === 0) {\r\n                    let o = {\r\n                        user: CryptoJS.AES.decrypt(x.val()[k].user, \"emailEncrypted\").toString(CryptoJS.enc.Utf8),\r\n                        items: CryptoJS.AES.decrypt(x.val()[k].items, \"mycartEncrypted\").toString(CryptoJS.enc.Utf8),\r\n                        total: CryptoJS.AES.decrypt(x.val()[k].total, \"totalEncrypted\").toString(CryptoJS.enc.Utf8),\r\n                        details: CryptoJS.AES.decrypt(x.val()[k].details, \"detailsEncrypted\").toString(CryptoJS.enc.Utf8),\r\n                        receipt: CryptoJS.AES.decrypt(x.val()[k].receipt, \"receiptEncrypted\").toString(CryptoJS.enc.Utf8)\r\n                    }\r\n                    orders.push(o);\r\n                }\r\n            }            \r\n        }\r\n        return orders;\r\n    }\r\n\r\n    async getConfirmedOrders() {\r\n        let orders = [];\r\n        let x = await firebase.database().ref(\"care_orders\").once('value');\r\n        for (let k in x.val()) {\r\n            if (x.val()[k].details) {\r\n                if (x.val()[k].confirmed === 1) {\r\n                    let o = {\r\n                        user: CryptoJS.AES.decrypt(x.val()[k].user, \"emailEncrypted\").toString(CryptoJS.enc.Utf8),\r\n                        items: CryptoJS.AES.decrypt(x.val()[k].items, \"mycartEncrypted\").toString(CryptoJS.enc.Utf8),\r\n                        total: CryptoJS.AES.decrypt(x.val()[k].total, \"totalEncrypted\").toString(CryptoJS.enc.Utf8),\r\n                        details: CryptoJS.AES.decrypt(x.val()[k].details, \"detailsEncrypted\").toString(CryptoJS.enc.Utf8),\r\n                        receipt: CryptoJS.AES.decrypt(x.val()[k].receipt, \"receiptEncrypted\").toString(CryptoJS.enc.Utf8)\r\n                    }\r\n                    orders.push(o);\r\n                }\r\n            }\r\n        }\r\n        return orders;\r\n    }\r\n\r\n    async writeToken() {\r\n        console.log(\"writing token...\");\r\n        let x = await firebase.database().ref(\"care_tokens\").once('value');\r\n        let valid = false;\r\n        let token = \"\";\r\n        while (valid === false) {\r\n            valid = true;\r\n            let result = [];\r\n            let characters = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';\r\n            let charactersLength = characters.length;\r\n            for (let i = 0; i < 10; i++ ) {\r\n                result.push(characters.charAt(Math.floor(Math.random() * charactersLength)));\r\n            }\r\n            token = result.join('');\r\n            for (let k in x.val()) {\r\n                if (x.val()[k].code) {\r\n                    if (token === CryptoJS.AES.decrypt(x.val()[k].code, \"tokenEncrypted\").toString(CryptoJS.enc.Utf8)) {\r\n                        valid = false;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        let dt = new Date();\r\n        dt.setDate(dt.getDate() + 3); // valid for 3 days\r\n        let d = dt.getUTCDate();\r\n        if (d < 10) {\r\n            d = \"0\" + d.toString();\r\n        }\r\n        let m = dt.getUTCMonth();\r\n        if (m < 10) {\r\n            m = \"0\" + m.toString();\r\n        }\r\n        let y = dt.getUTCFullYear();\r\n        let date = parseInt(y.toString() + m + d);\r\n        await firebase.database().ref(\"care_tokens\").push({\r\n            code : CryptoJS.AES.encrypt(token, \"tokenEncrypted\").toString(),\r\n            exp_date : date.toString(),\r\n            is_valid : 1\r\n        });\r\n        console.log(\"token:\" + token);\r\n        console.log(\"date:\" + date);\r\n\r\n        console.log(\"written token\");\r\n        return token;\r\n    }\r\n\r\n    async getTokens() {\r\n        console.log(\"getting tokens...\");\r\n        let x = await firebase.database().ref(\"care_tokens\").once('value');\r\n        let tokens = [];\r\n        let v;\r\n        for (let k in x.val()) {\r\n            if (x.val()[k].code) {\r\n                v = {\r\n                    code: CryptoJS.AES.decrypt(x.val()[k].code, \"tokenEncrypted\").toString(CryptoJS.enc.Utf8),\r\n                    exp_date: x.val()[k].exp_date,\r\n                    is_valid: x.val()[k].is_valid,\r\n                }\r\n                // v = x.val()[k];\r\n                tokens.push(v);\r\n            }\r\n        }\r\n        console.log(\"returning tokens\");\r\n        return tokens;\r\n    }\r\n\r\n    async validateOrder(receipt) {\r\n        console.log(\"validating order...\");\r\n        let x = await firebase.database().ref(\"care_orders\").once('value');\r\n        let key = 0;\r\n        let dataKey = key;\r\n        for (let k in x.val()) {\r\n            if (CryptoJS.AES.decrypt(x.val()[k].receipt, \"receiptEncrypted\").toString(CryptoJS.enc.Utf8) === receipt) {\r\n                dataKey = key;\r\n            } else {\r\n                key += 1;\r\n            }\r\n        }        \r\n        let objKey = Object.keys(x.val())[dataKey];\r\n        await firebase.database().ref('care_orders/' + objKey).child(\"confirmed\").set(1);\r\n        console.log(\"validated order\");\r\n    }\r\n\r\n    async resetToken() {\r\n        console.log(\"resetting tokens...\");\r\n        let x = await firebase.database().ref(\"care_tokens\").once('value');\r\n        let key = 0;\r\n        let dataKey = key;\r\n        for (let k in x.val()) {\r\n            if (\"POIJKLMNB\" === x.val()[k].code) {                \r\n                dataKey = key;\r\n            } else {\r\n                key += 1;\r\n            }\r\n        }        \r\n        let objKey = Object.keys(x.val())[dataKey];\r\n        await firebase.database().ref('care_tokens/' + objKey).child(\"is_valid\").set(1);\r\n        console.log(\"reset token\");\r\n    }\r\n\r\n    async creatingUser(email, password, firstName, lastName, address, phone, token) {\r\n        console.log(\"adding user to database...\");\r\n        // check if user is valid first\r\n        let x = await firebase.database().ref(\"care_users\").once('value');\r\n        let emailEncrypted = CryptoJS.AES.encrypt(email, \"emailEncrypted\").toString();\r\n        let valid = true;\r\n        for (let k in x.val()) {\r\n            if (x.val()[k].email) {\r\n                if (email === CryptoJS.AES.decrypt(x.val()[k].email, \"emailEncrypted\").toString(CryptoJS.enc.Utf8)) {\r\n                    console.log(\"error: that user already exists\");\r\n                    valid = false;\r\n                }\r\n            }\r\n        }\r\n        if (valid) {\r\n            let passwordEncrypted = CryptoJS.AES.encrypt(password, \"passwordEncrypted\").toString();\r\n            let firstNameEncrypted = CryptoJS.AES.encrypt(firstName, \"firstNameEncrypted\").toString();\r\n            let lastNameEncrypted = CryptoJS.AES.encrypt(lastName, \"lastNameEncrypted\").toString();\r\n            let addressEncrypted = CryptoJS.AES.encrypt(address, \"addressEncrypted\").toString();\r\n            let phoneEncrypted = CryptoJS.AES.encrypt(phone, \"phoneEncrypted\").toString();\r\n            console.log(emailEncrypted);\r\n            console.log(CryptoJS.AES.decrypt(emailEncrypted, \"emailEncrypted\").toString());\r\n            console.log(CryptoJS.AES.decrypt(emailEncrypted, \"emailEncrypted\").toString(CryptoJS.enc.Utf8));\r\n    \r\n            await firebase.database().ref(\"care_users\").push({\r\n                email: emailEncrypted,\r\n                password: passwordEncrypted,\r\n                firstName: firstNameEncrypted,\r\n                lastName: lastNameEncrypted,\r\n                address: addressEncrypted,\r\n                phone : phoneEncrypted\r\n            });\r\n            console.log(\"user added\");\r\n            \r\n            \r\n            let x2 = await firebase.database().ref(\"care_tokens\").once('value');\r\n            let key = 0;\r\n            let dataKey = key;\r\n            for (let k in x2.val()) {\r\n                if (x2.val()[k].code) {\r\n                    if (token === CryptoJS.AES.decrypt(x2.val()[k].code, \"tokenEncrypted\").toString(CryptoJS.enc.Utf8)) {                \r\n                        dataKey = key;\r\n                    } else {\r\n                        key += 1;\r\n                    }\r\n                }                \r\n            }        \r\n            let objKey = Object.keys(x2.val())[dataKey];\r\n            await firebase.database().ref('care_tokens/' + objKey).child(\"is_valid\").set(0);\r\n        }\r\n        return valid;        \r\n    }\r\n\r\n    async loginUser(email, password) {\r\n        console.log(\"adding user to database...\");\r\n        // check if user is valid first\r\n        let x = await firebase.database().ref(\"care_users\").once('value');\r\n        let valid = false;\r\n        for (let k in x.val()) {\r\n            if (x.val()[k].email) {\r\n                if (email === CryptoJS.AES.decrypt(x.val()[k].email, \"emailEncrypted\").toString(CryptoJS.enc.Utf8)) {\r\n                    if (password === CryptoJS.AES.decrypt(x.val()[k].password, \"passwordEncrypted\").toString(CryptoJS.enc.Utf8)) {\r\n                        valid = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return valid;\r\n    }\r\n\r\n    async getFood() {\r\n        console.log(\"getting food...\");\r\n        let x = await firebase.database().ref(\"care_food\").once('value');\r\n        let food = [];\r\n        for (let k in x.val()) {\r\n            if (x.val()[k].description) {\r\n                let f = {\r\n                    desc: x.val()[k].description,\r\n                    src: x.val()[k].imageSrc,\r\n                    price: x.val()[k].price\r\n                }\r\n                food.push(f);\r\n            }\r\n        }\r\n\r\n\t\t// await firebase.database().ref('care_food/').set({\r\n        //     test: 0\r\n        // });\r\n\r\n        // await firebase.database().ref(\"care_food\").push({\r\n        //     description: \"Chicken\",\r\n        //     imageSrc: \"\"\r\n        //     password: passwordEncrypted,\r\n        //     firstName: firstNameEncrypted,\r\n        //     lastName: lastNameEncrypted,\r\n        //     address: addressEncrypted,\r\n        //     phone : phoneEncrypted\r\n        // });\r\n        console.log(\"returning food \" + food.length);\r\n        return food;\r\n    }\r\n\r\n    async addItem(desc, img, price) {\r\n        console.log(\"adding \" + desc + \"...\");\r\n        await firebase.database().ref(\"care_food\").push({\r\n            description: desc,\r\n            imageSrc: img,\r\n            price: price\r\n        });\r\n        console.log(desc + \"added\");\r\n    }\r\n\r\n    async removeItem(desc) {\r\n        console.log(\"removing \" + desc + \"...\");\r\n        let x = await firebase.database().ref(\"care_food\").once('value');\r\n        let key = 0;\r\n        let dataKey = key;\r\n        for (let k in x.val()) {\r\n            if (desc === x.val()[k].description) {\r\n                dataKey = key;\r\n            } else {\r\n                key += 1;\r\n            }\r\n        }        \r\n        let objKey = Object.keys(x.val())[dataKey];\r\n        console.log(objKey);\r\n        await firebase.database().ref(\"care_food/\" + objKey).remove();\r\n        console.log(desc + \"removed\");\r\n    }\r\n\r\n}\r\n\r\nexport default new Firebase();\r\n","import React, {useState, useEffect} from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport firebase from './firebase';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\n\r\nconst LoginForm = () => {\r\n    const [pageLoaded, setPageloaded] = useState(0);\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [password2, setPassword2] = useState(\"\");\r\n    const [firstName, setFirstname] = useState(\"\");\r\n    const [lastName, setLastname] = useState(\"\");\r\n    const [phoneNumber, setPhonenumber] = useState(\"\");\r\n    const [address, setAddress] = useState(\"\");\r\n\r\n    const history = useHistory();\r\n\r\n    async function begin() {\r\n        setPageloaded(1);\r\n        document.getElementsByClassName(\"spinner\")[0].style.display = \"block\";\r\n        \r\n        document.getElementsByClassName(\"spinner\")[0].style.display = \"none\";      \r\n        let tkn = sessionStorage.getItem(\"token\");\r\n        let validated = false;\r\n        if (tkn) {\r\n            let tokens = await firebase.getTokens();\r\n            console.log(\"over here\");\r\n            if (tokens) {\r\n                for (let i = 0; i < tokens.length; i++) {\r\n                    if (tokens[i].code === tkn) {\r\n                        if (tokens[i].is_valid === 1) {\r\n                            let dt = new Date();\r\n                            let d = dt.getUTCDate();\r\n                            if (d < 10) {\r\n                                d = \"0\" + d.toString();\r\n                            }\r\n                            let m = dt.getUTCMonth();\r\n                            if (m < 10) {\r\n                                m = \"0\" + m.toString();\r\n                            }\r\n                            let y = dt.getUTCFullYear();\r\n                            let date = parseInt(y.toString() + m + d);\r\n                            if (tokens[i].exp_date >= date) {\r\n                                // await firebase.validateToken(tkn);\r\n                                validated = true;\r\n                                console.log(\"valid token\");\r\n                            } else {\r\n                                console.log(\"that token is expired\");\r\n                            }\r\n                        } else {\r\n                            console.log(\"that token has already been used\");\r\n                        }\r\n                    } else {\r\n                        console.log(\"no matches\");\r\n                    }\r\n                }\r\n            } else {\r\n                console.log(\"there are no valid tokens at all\");\r\n            }\r\n        }\r\n        if (validated) {\r\n            document.getElementsByClassName(\"LoginFormValidated\")[0].style.display = \"block\";\r\n        } else {\r\n            document.getElementsByClassName(\"LoginFormInvalidated\")[0].style.display = \"block\";\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (pageLoaded === 0) {\r\n            begin();\r\n            let savedEmail = sessionStorage.getItem(\"savedEmail\");        \r\n            if (savedEmail) {\r\n                console.log(\"you are already logged in, going home\");\r\n                history.push(\"/home\");\r\n            }\r\n        }\r\n    });\r\n\r\n    async function handleLogin(event) {\r\n        event.preventDefault();\r\n        console.log(\"loggin in user\");\r\n        console.log(email);\r\n        let valid = await firebase.loginUser(email, password);\r\n        if (valid) {\r\n            sessionStorage.setItem(\"savedEmail\", email);\r\n            history.push(\"/home\");\r\n        } else {\r\n            console.log(\"invalid credentials\");\r\n        }\r\n    }\r\n\r\n    async function handleSignup(event) {\r\n        document.getElementsByClassName(\"userAlert\")[0].style.display = \"none\";\r\n        event.preventDefault();\r\n        if (password !== password2) {\r\n            console.log(\"passwords no match\");\r\n            togglePasswordAlert();\r\n        } else {\r\n            console.log(\"passwords match\");\r\n            let token = sessionStorage.getItem(\"token\");\r\n            let valid = await firebase.creatingUser(email, password, firstName, lastName, address, phoneNumber, token);\r\n            if (valid) {\r\n                sessionStorage.setItem(\"savedEmail\", email);\r\n                history.push(\"/home\");                \r\n            } else {\r\n                toggleUserAlert();\r\n            }\r\n        }\r\n    }\r\n\r\n    function togglePasswordAlert() {\r\n        if (document.getElementsByClassName(\"passwordsAlert\")[0].style.display === \"block\") {\r\n            document.getElementsByClassName(\"passwordsAlert\")[0].style.display = \"none\";\r\n        } else {\r\n            document.getElementsByClassName(\"passwordsAlert\")[0].style.display = \"block\";\r\n        }\r\n    }\r\n\r\n    function toggleUserAlert() {\r\n        if (document.getElementsByClassName(\"userAlert\")[0].style.display === \"block\") {\r\n            document.getElementsByClassName(\"userAlert\")[0].style.display = \"none\";\r\n        } else {\r\n            document.getElementsByClassName(\"userAlert\")[0].style.display = \"block\";\r\n        }\r\n    }\r\n\r\n    // async function writeDB() {\r\n    //     await firebase.writeToken();\r\n    // }\r\n\r\n    // async function resetToken() {\r\n    //     await firebase.resetToken();\r\n    // }\r\n\r\n    return (\r\n        <div className=\"LoginForm\">\r\n            <Spinner animation=\"border\" className=\"spinner\" />\r\n\r\n            <div className=\"LoginFormInvalidated\" style={{display:\"none\"}}>\r\n                {/*\r\n                You do not have permission to access this site.\r\n                <button onClick={resetToken}>reset token</button>\r\n                */}\r\n                <Form onSubmit={handleLogin}>\r\n                    <Form.Group controlId=\"formBasicEmailLogin\">\r\n                        <Form.Label>Email address</Form.Label>\r\n                        <Form.Control required value={email} onChange={(e) => setEmail(e.target.value)} type=\"email\" placeholder=\"Enter email\" />\r\n                    </Form.Group>\r\n                    <Form.Group controlId=\"formBasicPasswordLogin\">\r\n                        <Form.Label>Password</Form.Label>\r\n                        <Form.Control required value={password} onChange={(e) => setPassword(e.target.value)} name=\"password\" type=\"password\" placeholder=\"Password\" />\r\n                    </Form.Group>\r\n                    <Button variant=\"primary\" type=\"submit\">\r\n                        Submit\r\n                    </Button>\r\n                </Form>\r\n            </div>\r\n            <div className=\"LoginFormValidated\" style={{display:\"none\"}}>\r\n                <Form onSubmit={handleSignup}>\r\n                    <Form.Group controlId=\"formBasicFirstName\">\r\n                        <Form.Label>First Name</Form.Label>\r\n                        <Form.Control required value={firstName} onChange={(e) => setFirstname(e.target.value)} type=\"text\" placeholder=\"Enter first name\" />\r\n                    </Form.Group>\r\n                    <Form.Group controlId=\"formBasicLastName\">\r\n                        <Form.Label>Last Name</Form.Label>\r\n                        <Form.Control required value={lastName} onChange={(e) => setLastname(e.target.value)} type=\"text\" placeholder=\"Enter last name\" />\r\n                    </Form.Group>\r\n                    <Form.Group controlId=\"formBasicEmail\">\r\n                        <Form.Label>Email address</Form.Label>\r\n                        <Form.Control required value={email} onChange={(e) => setEmail(e.target.value)} type=\"email\" placeholder=\"Enter email\" />\r\n                    </Form.Group>\r\n                    <div className=\"userAlert\" style={{display:\"none\"}}>\r\n                        <Alert variant=\"danger\" onClose={() => toggleUserAlert()} dismissible>\r\n                            <p>Error: that email is already taken</p>\r\n                        </Alert>\r\n                    </div>\r\n                    <Form.Group controlId=\"formBasicPhone\">\r\n                        <Form.Label>Phone Number</Form.Label>\r\n                        <Form.Control required value={phoneNumber} onChange={(e) => setPhonenumber(e.target.value)} type=\"text\" placeholder=\"Enter Phone Number\" />\r\n                    </Form.Group>\r\n                    <Form.Group controlId=\"formBasicAddress\">\r\n                        <Form.Label>Address</Form.Label>\r\n                        <Form.Control required value={address} onChange={(e) => setAddress(e.target.value)} type=\"text\" placeholder=\"Enter Address\" />\r\n                    </Form.Group>\r\n                    <Form.Group controlId=\"formBasicPassword\">\r\n                        <Form.Label>Password</Form.Label>\r\n                        <Form.Control required value={password} onChange={(e) => setPassword(e.target.value)} name=\"password\" type=\"password\" placeholder=\"Password\" />\r\n                    </Form.Group>\r\n                    <Form.Group controlId=\"formBasicPassword2\">\r\n                        <Form.Label>Password Confirm</Form.Label>\r\n                        <Form.Control required value={password2} onChange={(e) => setPassword2(e.target.value)} name=\"password2\" type=\"password\" placeholder=\"Password Confirm\" />\r\n                    </Form.Group>\r\n                    <div className=\"passwordsAlert\" style={{display:\"none\"}}>\r\n                        <Alert variant=\"danger\" onClose={() => togglePasswordAlert()} dismissible>\r\n                            <p>Error: passwords do not match</p>\r\n                        </Alert>\r\n                    </div>\r\n                    <Button variant=\"primary\" type=\"submit\">\r\n                        Submit\r\n                    </Button>\r\n                </Form>\r\n            </div>     \r\n\r\n            \r\n            {/*<button onClick={writeDB}>write db</button>*/}\r\n            \r\n        </div>      \r\n    );\r\n}\r\n\r\nexport default LoginForm;\r\n","export default __webpack_public_path__ + \"static/media/field1.501b3c72.jpg\";","export default __webpack_public_path__ + \"static/media/field2.001013cd.jpg\";","export default __webpack_public_path__ + \"static/media/field3.48ea8872.jpg\";","export default __webpack_public_path__ + \"static/media/field4.7d0b956d.jpg\";","export default __webpack_public_path__ + \"static/media/foodDonate.606d6faf.jpg\";","export default __webpack_public_path__ + \"static/media/clothesDonate.defeb0b1.jpg\";","export default __webpack_public_path__ + \"static/media/moneyDonate.7cc31a1b.jpg\";","import React, {useEffect} from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Carousel from 'react-bootstrap/Carousel';\r\nimport field1 from './img/field1.jpg';\r\nimport field2 from './img/field2.jpg';\r\nimport field3 from './img/field3.jpg';\r\nimport field4 from './img/field4.jpg';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Button from 'react-bootstrap/Button';\r\nimport foodDonate from './img/foodDonate.jpg';\r\nimport clothesDonate from './img/clothesDonate.jpg';\r\nimport moneyDonate from './img/moneyDonate.jpg';\r\n\r\nconst Home = () => {\r\n    const history = useHistory();\r\n    \r\n    useEffect(() => {\r\n        let savedEmail = sessionStorage.getItem(\"savedEmail\");        \r\n        if (savedEmail) {\r\n            console.log(\"savedmail is \" + savedEmail);\r\n            styling();\r\n        } else {\r\n            history.push(\"/\");\r\n        }\r\n    });\r\n\r\n    function styling() {\r\n        let chapters = document.getElementsByClassName(\"chapter\");\r\n        for (let i = 0; i < chapters.length; i++) {\r\n            if (i % 2 !== 0) {\r\n                chapters[i].style.backgroundColor = \"#DADADA\";\r\n            }\r\n        }\r\n        document.getElementsByClassName(\"Navbartop\")[0].style.display = \"block\";\r\n        document.getElementsByClassName(\"Footerbottom\")[0].style.display = \"block\";\r\n    }\r\n\r\n    function donateMoney() {\r\n        history.push(\"/donate-money\");\r\n    }\r\n    \r\n    function donateFood() {\r\n        history.push(\"/donate-food\");\r\n    }\r\n\r\n    return (\r\n        <div className=\"Home\">\r\n            <div className=\"HomeContent\">\r\n                <br />\r\n                <div className=\"chapter\">\r\n                    <div className=\"carouselSlides\">\r\n                        <Carousel>\r\n                            <Carousel.Item interval={3000}>\r\n                                <img\r\n                                className=\"d-block w-100\"\r\n                                src={field1}\r\n                                alt=\"First slide\"\r\n                                />\r\n                                <Carousel.Caption>\r\n                                <h3>First slide label</h3>\r\n                                <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>\r\n                                </Carousel.Caption>\r\n                            </Carousel.Item>\r\n                            <Carousel.Item interval={3000}>\r\n                                <img\r\n                                className=\"d-block w-100\"\r\n                                src={field2}\r\n                                alt=\"Second slide\"\r\n                                />\r\n                                <Carousel.Caption>\r\n                                <h3>Second slide label</h3>\r\n                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>\r\n                                </Carousel.Caption>\r\n                            </Carousel.Item>\r\n                            <Carousel.Item interval={3000}>\r\n                                <img\r\n                                className=\"d-block w-100\"\r\n                                src={field3}\r\n                                alt=\"Third slide\"\r\n                                />\r\n                                <Carousel.Caption>\r\n                                <h3>Third slide label</h3>\r\n                                <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur.</p>\r\n                                </Carousel.Caption>\r\n                            </Carousel.Item>\r\n                        </Carousel>\r\n                    </div>                    \r\n                </div>\r\n\r\n                <br />\r\n                <div className=\"chapter\">\r\n                    <table className=\"homeTable\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td>\r\n                                    <p>With your donations, food and supplies can be delivered to the poor faimlies in Lebanon.</p>\r\n                                    <Button variant=\"success\" >Sponsor a family</Button>\r\n                                </td>\r\n                                <td>\r\n                                    <img src={field4} alt=\"imagePic\"></img>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n\r\n                <br /><br />\r\n                <div className=\"chapter\">\r\n                    <div id=\"donation\">\r\n                        <h3>Make a donation</h3>\r\n                        <br />\r\n                        <table className=\"donationTable\">\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td>\r\n                                        <Card>\r\n                                            <Card.Img variant=\"top\" src={foodDonate} />\r\n                                            <Card.Body>\r\n                                                <Card.Title>Food</Card.Title>\r\n                                                <Card.Text>\r\n                                                Donate much needed food to families.\r\n                                                </Card.Text>\r\n                                                <Button variant=\"primary\"  onClick={donateFood}>Donate food</Button>\r\n                                            </Card.Body>\r\n                                        </Card>\r\n                                    </td>\r\n                                    <td>\r\n                                        <Card>\r\n                                            <Card.Img variant=\"top\" src={clothesDonate} />\r\n                                            <Card.Body>\r\n                                                <Card.Title>Clothes and other items</Card.Title>\r\n                                                <Card.Text>\r\n                                                Donate clothes to old and yound as well as other items.\r\n                                                </Card.Text>\r\n                                                <Button variant=\"primary\">Donate items</Button>\r\n                                            </Card.Body>\r\n                                        </Card>\r\n                                    </td>\r\n                                    <td>\r\n                                        <Card>\r\n                                            <Card.Img variant=\"top\" src={moneyDonate} />\r\n                                            <Card.Body>\r\n                                                <Card.Title>Make a donation</Card.Title>\r\n                                                <Card.Text>\r\n                                                Make a cash or bank donation to a family.\r\n                                                </Card.Text>\r\n                                                <Button variant=\"primary\" onClick={donateMoney}>Donate Money</Button>\r\n                                            </Card.Body>\r\n                                        </Card>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <br />\r\n        </div>      \r\n    );\r\n}\r\n\r\nexport default Home;\r\n","import React, {useEffect} from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst ErrorPage = () => {\r\n    const history = useHistory();\r\n    \r\n    function tokenCheck() {\r\n        let url = window.location.href;\r\n        console.log(\"url:\" + url);\r\n        let tkn = \"\";\r\n        if (url.includes(\"token=\") && url.includes(\"#\")) {\r\n            tkn = url.split(\"token=\")[1].split(\"#\")[0];\r\n            console.log(\"token is \" + tkn);\r\n            sessionStorage.setItem(\"token\", tkn);\r\n        } else {\r\n            console.log(\"invalid url\");\r\n            console.log(\"mayb check if user has login access?\");\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        tokenCheck();\r\n        history.push(\"/\");\r\n    });\r\n    return (\r\n        <div className=\"ErrorPage\">\r\n            \r\n        </div>      \r\n    );\r\n}\r\n\r\nexport default ErrorPage;\r\n","import React, {useState, useEffect} from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport Card from 'react-bootstrap/Card';\r\n\r\n\r\nconst DonateMoney = () => {\r\n    const [cardNumber, setCardnumber] = useState(\"\");\r\n    const [name, setName] = useState(\"\");\r\n\r\n    const history = useHistory();\r\n    \r\n    useEffect(() => {\r\n        let savedEmail = sessionStorage.getItem(\"savedEmail\");        \r\n        if (savedEmail) {\r\n            console.log(\"savedmail is \" + savedEmail);\r\n            setReference(savedEmail);\r\n        } else {\r\n            history.push(\"/\");\r\n        }\r\n    });\r\n\r\n    function setReference(savedEmail) {\r\n        if (document.getElementById(\"referenceID\")) {\r\n            if (savedEmail) {\r\n                document.getElementById(\"referenceID\").innerHTML = savedEmail;\r\n            } else {\r\n                document.getElementById(\"referenceID\").innerHTML = \"<i>Your email address</i>\";\r\n            }\r\n        } \r\n    }\r\n\r\n    function makeCardDonation() {\r\n        console.log(\"makeing card donaiton\");\r\n    }\r\n\r\n    return (\r\n        <div className=\"DonateMoney\">\r\n            <div className=\"content\">\r\n                <br />\r\n                <h3>Donate Money</h3>\r\n                <br />\r\n                <p>Thank you for your generosity. Please fill in the form to make a donation:</p>\r\n                <br />\r\n                <div className=\"paymentSection\">\r\n                    <Accordion defaultActiveKey=\"0\">\r\n                        <Card>\r\n                            <Card.Header>\r\n                            <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"0\">\r\n                                Bank transfer\r\n                            </Accordion.Toggle>\r\n                            </Card.Header>\r\n                            <Accordion.Collapse eventKey=\"0\">\r\n                            <Card.Body>\r\n                                <table>\r\n                                    <tbody>\r\n                                        <tr>\r\n                                            <td>BSB:</td>\r\n                                            <td>0123 4567</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td>Account Number:</td>\r\n                                            <td>0123 4567 8901</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td>Reference:</td>\r\n                                            <td id=\"referenceID\">0123 4567 8901</td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </Card.Body>\r\n                            </Accordion.Collapse>\r\n                        </Card>\r\n                        <Card>\r\n                            <Card.Header>\r\n                            <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\r\n                                Credit Card Payment\r\n                            </Accordion.Toggle>\r\n                            </Card.Header>\r\n                            <Accordion.Collapse eventKey=\"1\">\r\n                            <Card.Body>\r\n                                <Form onSubmit={makeCardDonation}>\r\n                                    <Form.Group controlId=\"formBasicCardNumber\">\r\n                                        <Form.Label>Card Number</Form.Label>\r\n                                        <Form.Control required value={cardNumber} onChange={(e) => setCardnumber(e.target.value)} type=\"text\" placeholder=\"Enter Card Number\" />\r\n                                    </Form.Group>\r\n                                    <Form.Group controlId=\"formBasicName\">\r\n                                        <Form.Label>Name on card</Form.Label>\r\n                                        <Form.Control required value={name} onChange={(e) => setName(e.target.value)} type=\"text\" placeholder=\"Name on card\" />\r\n                                    </Form.Group>\r\n                                    <Button variant=\"primary\" type=\"submit\">\r\n                                        Submit\r\n                                    </Button>\r\n                                </Form>\r\n                            </Card.Body>\r\n                            </Accordion.Collapse>\r\n                        </Card>\r\n                    </Accordion>\r\n                </div>                \r\n            </div>\r\n            <br />\r\n        </div>      \r\n    );\r\n}\r\n\r\nexport default DonateMoney;\r\n","import React, {useState, useEffect} from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport firebase from './firebase';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\n\r\nconst DonateFood = () => {\r\n    const [pageLoaded, setPageloaded] = useState(0);\r\n    const history = useHistory();\r\n    \r\n    useEffect(() => {\r\n        if (pageLoaded === 0) {\r\n            let savedEmail = sessionStorage.getItem(\"savedEmail\");\r\n            if (savedEmail) {\r\n                console.log(\"savedmail is \" + savedEmail);\r\n                getFood();\r\n            } else {\r\n                history.push(\"/\");\r\n            }\r\n        }        \r\n    });\r\n\r\n    async function getFood() {\r\n        // sessionStorage.setItem(\"myCart\", null);\r\n        document.getElementsByClassName(\"spinner\")[0].style.display = \"block\";\r\n        setPageloaded(1);\r\n        let food = await firebase.getFood();        \r\n        let html = \"\";\r\n        if (food.length > 0) {\r\n            html += \"<table class='productList'><tbody>\"\r\n            for (let i = 0; i < food.length; i++) {\r\n                if (i % 4 === 0) {\r\n                    if (i === 0) {\r\n                        html += \"<tr>\"\r\n                    } else {\r\n                        html += \"</tr><tr>\"\r\n                    }\r\n                }\r\n                html += `\r\n                <td>\r\n                    <div class='card'>                    \r\n                        <h5 class='desc'>` + food[i].desc + ` - $` + food[i].price + `</h5>\r\n                        <img card-img-top src=\"` + food[i].src + `\"></img>\r\n                        <br>\r\n                        <button class='addToCartBtn btn btn-primary btn-sm' value=\"` + food[i].desc + `\">Donate item</button>\r\n                    </div>\r\n                </td>\r\n                `;\r\n                \r\n            }\r\n            html += \"</tr></tbody></table>\";\r\n            document.getElementById(\"foodItems\").innerHTML = html;\r\n            document.getElementsByClassName(\"spinner\")[0].style.display = \"none\";\r\n            await addToCartBtnsActivate();\r\n        }\r\n    }\r\n\r\n    async function addToCartBtnsActivate() {\r\n        let btns = document.getElementsByClassName(\"addToCartBtn\");\r\n        for (let i = 0; i < btns.length; i++) {\r\n            btns[i].onclick = async function(){\r\n                //console.log(\"item si \" + btns[i].value);\r\n                let myCart = sessionStorage.getItem(\"myCart\");\r\n                myCart += \",\" + btns[i].value;\r\n                // myCart.push(btns[i].value);\r\n                console.log(myCart);\r\n                // sessionStorage.setItem(\"myCart\", myCart.toString());\r\n                sessionStorage.setItem(\"myCart\", myCart);\r\n\r\n                // show notification\r\n                addNotification(`alert alert-success`, `Added item <strong>` + btns[i].value + `</strong> to donation cart`);\r\n                \r\n            }\r\n        }\r\n    }\r\n\r\n    function addNotification(type, msg) {\r\n        let html = document.getElementById(\"alertNotification\").innerHTML;\r\n        let notificationCount = document.getElementsByClassName(\"notificationBadge\").length;\r\n        html += `\r\n        <div class=\"notificationBadge\">\r\n            <div class=\"` + type + `\" role=\"alert\">\r\n                ` + msg + `\r\n            </div>\r\n        </div>                \r\n        `;\r\n        document.getElementById(\"alertNotification\").innerHTML = html;\r\n        // document.getElementById(\"notificationBadge\" + notificationCount).style.opacity = 1;\r\n        // document.getElementById(\"notificationBadge\" + notificationCount).style.transition = \"all 1s\";                \r\n        // document.getElementById(\"notificationBadge\" + notificationCount).style.opacity = 0;\r\n        setTimeout(function(){ \r\n            if(document.getElementsByClassName(\"notificationBadge\")[notificationCount]) {\r\n                document.getElementsByClassName(\"notificationBadge\")[notificationCount].style.display = \"none\"; \r\n            }\r\n        }, 4000);\r\n    }\r\n\r\n    function donationProceed() {\r\n        history.push(\"/my-cart\");\r\n    }\r\n\r\n    return (\r\n        <div className=\"DonateFood\">\r\n            <div className=\"content\">\r\n                <br />\r\n                <div id=\"alertNotification\"></div>                \r\n                <br />\r\n                <h3>Donate Food and Other Items</h3>\r\n                <br />\r\n                <p>Thank you for your generosity. Please select which items you wish to purchase and donate:</p>\r\n                <p>You can alter this list in <a href=\"#my-cart\">My Cart</a> on the next page</p>\r\n                <br />\r\n\r\n                <hr></hr>\r\n                <h4>Food</h4>\r\n                <Spinner animation=\"border\" className=\"spinner\" />\r\n                <div id=\"foodItems\"></div>\r\n                <br />       \r\n\r\n   \r\n                <br />\r\n                <hr></hr>\r\n\r\n                <button type=\"button\" className=\"btn btn-success\" onClick={donationProceed}>Confirm donation items</button>\r\n            </div>\r\n            <br />            \r\n            <br />            \r\n\r\n        </div>      \r\n    );\r\n}\r\n\r\nexport default DonateFood;\r\n","import React, {useEffect} from 'react';\r\n\r\nconst Footerbottom = () => {\r\n    useEffect(() => {\r\n        let savedEmail = sessionStorage.getItem(\"savedEmail\");\r\n        if (savedEmail) {\r\n            console.log(\"savedmail is \" + savedEmail);\r\n            document.getElementsByClassName(\"Footerbottom\")[0].style.display = \"block\";\r\n        } else {\r\n            document.getElementsByClassName(\"Footerbottom\")[0].style.display = \"none\";\r\n        }\r\n    });\r\n\r\n    return (\r\n        <div className=\"Footerbottom\">\r\n            <br />\r\n            <br />\r\n            <footer className=\"bg-light text-center text-lg-start\">\r\n                <div className=\"text-center p-3\" style={{backgroundColor:\"rgba(0, 0, 0, 0.2)\"}}>\r\n                    <p className=\"text-dark\" >Donating money and food to the poor. v1.1</p>\r\n                </div>\r\n            </footer>\r\n        </div>      \r\n    );\r\n}\r\n\r\nexport default Footerbottom;\r\n","import React, {useState, useEffect} from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport firebase from './firebase';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nconst MyCart = () => {\r\n    const [pageLoaded, setPageloaded] = useState(0);\r\n    const [name, setName] = useState(\"\");\r\n    const [address, setAddress] = useState(\"\");\r\n\r\n    const history = useHistory();\r\n    \r\n    useEffect(() => {\r\n        if (pageLoaded === 0) {\r\n            let savedEmail = sessionStorage.getItem(\"savedEmail\");        \r\n            let myCart = sessionStorage.getItem(\"myCart\");\r\n            if (savedEmail) {\r\n                console.log(\"savedmail is \" + savedEmail);\r\n                getItems(myCart);\r\n            } else {\r\n                history.push(\"/\");\r\n            }\r\n        }        \r\n    });\r\n\r\n    async function getItems(myCart) {\r\n        console.log(\"over here\");\r\n        setPageloaded(1);\r\n        let myList = [];\r\n        let html = \"\";\r\n        if (myCart) {    \r\n            let myItems = myCart.split(\",\");            \r\n            if (!(myItems.length === 1 && myItems[0] === \"null\")) {\r\n                html = `<table class=\"table\"><tbody><tr><th scope=\"col\">Item</th><th scope=\"col\">Qty</th><th scope=\"col\">Total</th><th></th></tr>`;\r\n                console.log(myItems);\r\n                let food = await firebase.getFood();\r\n                let total = 0;\r\n                console.log(food);\r\n                for (let i = 0; i < myItems.length; i++) {\r\n                    for (let j = 0; j < food.length; j++) {\r\n                        if (myItems[i] === food[j].desc) {\r\n                            let newItem = true;\r\n                            for (let k = 0; k < myList.length; k++) {\r\n                                if (myList[k].desc === myItems[i]) {\r\n                                    let item = {\r\n                                        desc: myList[k].desc,\r\n                                        qty: myList[k].qty + 1,\r\n                                        total: parseFloat(myList[k].total) + parseFloat(food[j].price)\r\n                                    }\r\n                                    myList[k] = item;\r\n                                    k = myList.length;\r\n                                    newItem = false;\r\n                                }\r\n                            }\r\n                            if (newItem === true) {\r\n                                let item = {\r\n                                    desc: myItems[i],\r\n                                    qty: 1,\r\n                                    total: parseFloat(food[j].price)\r\n                                }\r\n                                myList.push(item);\r\n                            }\r\n                            j = food.length;\r\n                        }\r\n                    }\r\n                }\r\n                let removeText = \"Remove item\";\r\n                if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\r\n                    removeText = \"X\";\r\n                }\r\n                for (let i = 0; i < myList.length; i++) {\r\n                    html += `<tr><td>` + myList[i].desc + `</td><td><button type=\"button\" class=\"addToOrder btn btn-light\" value=\"` + myList[i].desc + `\">+</button>` + myList[i].qty + `<button type=\"button\" class=\"removeFromOrder btn btn-light\" value=\"` + myList[i].desc + `\">-</button></td><td>$` + myList[i].total + `</td><td><button class='removeItemBtn btn btn-danger btn-sm' value=\"` + myList[i].desc + `\">` + removeText + `</button></td></tr>`;\r\n                    total += parseFloat(myList[i].total);\r\n                }\r\n                html += `<tr><td><b>Total</b></td><td></td><td><b>$` + total + `</b></td><td></td></tr>`;\r\n                html += `</tbody></table>`;\r\n            } else {\r\n                html = \"<p>You haven't selected any items to be donated. Please <a href='#donate-food'>Click here</a> to select items to donate</p>\";\r\n            }        \r\n        } else {\r\n            html = \"<p>You haven't selected any items to be donated. Please <a href='#donate-food'>Click here</a> to select items to donate</p>\";\r\n        } \r\n        document.getElementById(\"myItems\").innerHTML = html;\r\n        console.log(\"myCart:\" + myCart);\r\n        await setBtns();\r\n    }\r\n\r\n    async function setBtns() {\r\n        let btns = document.getElementsByClassName(\"removeItemBtn\");\r\n        for (let i = 0; i < btns.length; i++) {\r\n            btns[i].onclick = async function(){\r\n                removeCartItem(btns[i].value);\r\n            }\r\n        }\r\n\r\n        let btnsAdd = document.getElementsByClassName(\"addToOrder\");\r\n        for (let i = 0; i < btnsAdd.length; i++) {\r\n            btnsAdd[i].onclick = async function(){\r\n                addToCart(btnsAdd[i].value);\r\n            }\r\n        }\r\n\r\n        let btnsRem = document.getElementsByClassName(\"removeFromOrder\");\r\n        for (let i = 0; i < btnsRem.length; i++) {\r\n            btnsRem[i].onclick = async function(){\r\n                removeFromCart(btnsRem[i].value);\r\n            }\r\n        }\r\n    }\r\n\r\n    function removeFromCart(item) {\r\n        let myCart = sessionStorage.getItem(\"myCart\");\r\n        myCart = myCart.split(\",\");\r\n        for (let j = 0; j < myCart.length; j++) {\r\n            if (myCart[j] === item) {\r\n                myCart.splice(j, 1);\r\n                j = myCart.length;\r\n            }\r\n        }\r\n        myCart = myCart.toString();\r\n        sessionStorage.setItem(\"myCart\", myCart);\r\n        getItems(myCart);\r\n    }\r\n\r\n    function addToCart(item) {\r\n        let myCart = sessionStorage.getItem(\"myCart\");\r\n        myCart += \",\" + item;\r\n        sessionStorage.setItem(\"myCart\", myCart);\r\n        getItems(myCart);\r\n    }\r\n\r\n    function removeCartItem(item) {\r\n        console.log(\"item was \" + item);\r\n        let myCart = sessionStorage.getItem(\"myCart\");\r\n        myCart = myCart.split(\",\");\r\n        for (let i = 0; i < myCart.length; i++) {\r\n            if (myCart[i] === item) {\r\n                myCart.splice(i, 1);\r\n                i = 0;\r\n            }\r\n        }\r\n        myCart = myCart.toString();\r\n        sessionStorage.setItem(\"myCart\", myCart);\r\n        getItems(myCart);\r\n    }\r\n\r\n    async function confirmation() {\r\n        let savedEmail = sessionStorage.getItem(\"savedEmail\");\r\n        let myCart = sessionStorage.getItem(\"myCart\");\r\n        let orderDetails = sessionStorage.getItem(\"orderDetails\");\r\n        let obj = JSON.parse(orderDetails);\r\n        let myCart2 = myCart.split(\",\");\r\n        let food = await firebase.getFood();\r\n        let total = 0;\r\n        for (let i = 0; i < myCart2.length; i++) {\r\n            for (let j = 0; j < food.length; j++) {\r\n                if (myCart2[i] === food[j].desc) {\r\n                    total += food[j].price;\r\n                    j = food.length;\r\n                }\r\n            }\r\n        }\r\n        let pass = 1;        \r\n        if (total <= 0) {\r\n            pass = 0;\r\n            addNotification(\"error\", \"Your order is invalid\");\r\n        }\r\n        if (obj) {\r\n            if (obj.name === \"\" || obj.address === \"\") {\r\n                pass = 0;\r\n                addNotification(\"alert-danger\", \"Your recipient cannot be left blank\");\r\n            }\r\n        } else {\r\n            pass = 0;\r\n            addNotification(\"alert-danger\", \"Your recipient cannot be left blank\");\r\n        }\r\n        \r\n        if (pass === 1) {\r\n            let receipt = await firebase.createOrder(savedEmail, myCart, total, orderDetails);\r\n            history.push(\"/confirmation?receipt=\" + receipt + \"#\");\r\n        }\r\n    }\r\n\r\n    function addNotification(type, msg) {\r\n        let html = document.getElementById(\"alertNotification\").innerHTML;\r\n        let notificationCount = document.getElementsByClassName(\"notificationBadge\").length;\r\n        html += `\r\n        <div class=\"notificationBadge\">\r\n            <div class=\"` + type + `\" role=\"alert\">\r\n                ` + msg + `\r\n            </div>\r\n        </div>                \r\n        `;\r\n        document.getElementById(\"alertNotification\").innerHTML = html;\r\n        // document.getElementById(\"notificationBadge\" + notificationCount).style.opacity = 1;\r\n        // document.getElementById(\"notificationBadge\" + notificationCount).style.transition = \"all 1s\";                \r\n        // document.getElementById(\"notificationBadge\" + notificationCount).style.opacity = 0;\r\n        setTimeout(function(){ \r\n            if(document.getElementsByClassName(\"notificationBadge\")[notificationCount]) {\r\n                document.getElementsByClassName(\"notificationBadge\")[notificationCount].style.display = \"none\"; \r\n            }\r\n        }, 4000);\r\n    }\r\n\r\n    function setDetails(event) {\r\n        event.preventDefault();\r\n        let orderDetails = {\r\n            name: name,\r\n            address: address\r\n        };\r\n        sessionStorage.setItem(\"orderDetails\", JSON.stringify(orderDetails));\r\n        confirmation();\r\n    }\r\n\r\n    function donateMore() {\r\n        history.push(\"/donate-food\");\r\n    }\r\n\r\n    return (\r\n        <div className=\"MyCart\">\r\n            <div className=\"content\">\r\n                <br />\r\n                <div id=\"alertNotification\"></div>     \r\n                <br />\r\n                <h3>My Cart</h3>\r\n                <br />\r\n                <div id=\"myItems\"></div>\r\n                <br />\r\n                <br />\r\n                <button type=\"button\" className=\"btn btn-primary\" onClick={donateMore}>Make more donations</button>\r\n                <br />       \r\n\r\n                <hr></hr>\r\n                <h4>Delivery details</h4>\r\n                <p>Please enter the name and address you wish these items to be donated to</p>\r\n                <div className=\"recipient\">\r\n                    <Form onSubmit={setDetails} autoComplete=\"off\">\r\n                        <Form.Group controlId=\"formName\">\r\n                            <Form.Label>Name of recipient (the person or people receiving the item)</Form.Label>\r\n                            <Form.Control required value={name} onChange={(e) => setName(e.target.value)} type=\"text\" placeholder=\"Name\" />\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"formAddress\">\r\n                            <Form.Label>Address</Form.Label>\r\n                            <Form.Control required value={address} onChange={(e) => setAddress(e.target.value)} type=\"text\" placeholder=\"Address\" />\r\n                        </Form.Group>\r\n                        <Button variant=\"success\" type=\"submit\">\r\n                            Proceed with payment options\r\n                        </Button>\r\n                    </Form>\r\n                </div>\r\n                <br />\r\n                {/*}\r\n                <hr></hr>\r\n                <br />\r\n                <button type=\"button\" className=\"btn btn-success\" onClick={confirmation}>Proceed with payment options</button>\r\n                */}\r\n\r\n                \r\n            </div> \r\n        </div>      \r\n    );\r\n}\r\n\r\nexport default MyCart;\r\n","import React, {useState, useEffect} from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport firebase from './firebase';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport CryptoJS from 'crypto-js';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nconst Admin = () => {\r\n    const [pageLoaded, setPageloaded] = useState(0);\r\n    const [desc, setDesc] = useState(\"\");\r\n    const [src, setSrc] = useState(\"\");\r\n    const [price, setPrice] = useState(\"\");\r\n    const [receipt, setReceipt] = useState(\"\");\r\n    const history = useHistory();\r\n    \r\n    useEffect(() => {\r\n        if (pageLoaded === 0) {\r\n            let savedEmail = sessionStorage.getItem(\"savedEmail\");\r\n            if (savedEmail) {\r\n                console.log(\"savedmail is \" + savedEmail);\r\n                document.getElementsByClassName(\"content\")[0].style.display = \"none\";\r\n                if(adminCheck()) {\r\n                    document.getElementsByClassName(\"content\")[0].style.display = \"block\";\r\n                    getFood();\r\n                    getPendingOrders();\r\n                    getCompletedOrders();\r\n                } else {\r\n                    history.push(\"/\");\r\n                }\r\n            } else {\r\n                history.push(\"/\");\r\n            }\r\n        }        \r\n    });\r\n\r\n    function adminCheck() {\r\n        let pass = prompt(\"Admin Password\");\r\n        console.log(\"pass is \");\r\n        let passEncrypt = CryptoJS.AES.encrypt(pass, \"passEncrypted\").toString();\r\n        console.log(CryptoJS.AES.decrypt(passEncrypt, \"passEncrypted\").toString());\r\n        if (CryptoJS.AES.decrypt(passEncrypt, \"passEncrypted\").toString() === \"61646d696e\") {\r\n            return true;\r\n        }\r\n        return false;\r\n\r\n    }\r\n\r\n    async function getPendingOrders() {\r\n        let pendingOrders = await firebase.getPendingOrders();\r\n        let html = \"\";\r\n        for (let p = 0; p < pendingOrders.length; p++) {\r\n            let items = pendingOrders[p].items.split(\",\");\r\n            let myItems = [];\r\n            let myItemsHtml = \"\";\r\n            for (let i = 0; i < items.length; i++) {\r\n                if (!myItems.includes(items[i])) {\r\n                    if (items[i] !== \"undefined\" && items[i] !== \"null\") {\r\n                        myItems.push(items[i]);\r\n                        let qty = 1;\r\n                        for (let j = i+1; j < items.length; j++) {\r\n                            if (items[i] === items[j]) {\r\n                                qty += 1;\r\n                            }\r\n                        }\r\n                        myItemsHtml += `\r\n                            <p>` + items[i] + ` x ` + qty + `\r\n                        `;\r\n                    }\r\n                }\r\n            }\r\n            let deliveryDetails = JSON.parse(pendingOrders[p].details);\r\n            let name = await firebase.getUserDetails(pendingOrders[p].user);\r\n            html += `\r\n                <div class=\"order\">\r\n                    <p><b>User: </b>` + name + `</p>\r\n                    <p><b>Total: $</b>` + pendingOrders[p].total + `</p>\r\n                    <p><b>Items: </b></p>\r\n                    ` + myItemsHtml + `\r\n                    <p><b>Delivery Recepient: </b>` + deliveryDetails.name + `</p>\r\n                    <p><b>Delivery Recepient Address: </b>` + deliveryDetails.address + `</p>\r\n                    <p><b>Receipt: </b>` + pendingOrders[p].receipt + `</p>\r\n                    <button class='completed btn btn-primary' value='` + pendingOrders[p].receipt + `'>Set order as completed</button>\r\n                </div>\r\n            `;\r\n        }\r\n\r\n        document.getElementsByClassName(\"pendingOrders\")[0].style.display = \"block\";\r\n        document.getElementsByClassName(\"pendingOrders\")[0].innerHTML = html;\r\n        await setCompleted();\r\n        console.log(\"done with pending orders\");\r\n\r\n    }\r\n\r\n    async function setCompleted() {\r\n        let btns = document.getElementsByClassName(\"completed\");\r\n        for (let i = 0; i < btns.length; i++) {\r\n            btns[i].onclick = async function(){\r\n                await firebase.validateOrder(btns[i].value)\r\n            }\r\n        }\r\n    }\r\n    \r\n    async function getCompletedOrders() {\r\n        let confirmedOrders = await firebase.getConfirmedOrders();\r\n        let html = \"\";\r\n        for (let p = 0; p < confirmedOrders.length; p++) {\r\n            let items = confirmedOrders[p].items.split(\",\");\r\n            let myItems = [];\r\n            let myItemsHtml = \"\";\r\n            for (let i = 0; i < items.length; i++) {\r\n                if (!myItems.includes(items[i])) {\r\n                    if (items[i] !== \"undefined\" && items[i] !== \"null\") {\r\n                        myItems.push(items[i]);\r\n                        let qty = 1;\r\n                        for (let j = i+1; j < items.length; j++) {\r\n                            if (items[i] === items[j]) {\r\n                                qty += 1;\r\n                            }\r\n                        }\r\n                        myItemsHtml += `\r\n                            <p>` + items[i] + ` x ` + qty + `\r\n                        `;\r\n                    }\r\n                }\r\n            }\r\n            let deliveryDetails = JSON.parse(confirmedOrders[p].details);\r\n            let name = await firebase.getUserDetails(confirmedOrders[p].user);\r\n            html += `\r\n                <div class=\"order\">\r\n                    <p><b>User: </b>` + name + `</p>\r\n                    <p><b>Total: $</b>` + confirmedOrders[p].total + `</p>\r\n                    <p><b>Items: </b></p>\r\n                    ` + myItemsHtml + `\r\n                    <p><b>Delivery Recepient: </b>` + deliveryDetails.name + `</p>\r\n                    <p><b>Delivery Recepient Address: </b>` + deliveryDetails.address + `</p>\r\n                    <p><b>Receipt: </b>` + confirmedOrders[p].receipt + `</p>\r\n                </div>\r\n            `;\r\n        }\r\n\r\n        document.getElementsByClassName(\"completedOrders\")[0].style.display = \"block\";\r\n        document.getElementsByClassName(\"completedOrders\")[0].innerHTML = html;\r\n        console.log(\"done with confirmed orders\");\r\n\r\n    }\r\n\r\n    async function getFood() {\r\n        // sessionStorage.setItem(\"myCart\", null);\r\n        document.getElementsByClassName(\"spinner\")[0].style.display = \"block\";\r\n        setPageloaded(1);\r\n        let food = await firebase.getFood();        \r\n        let html = \"\";\r\n        if (food.length > 0) {\r\n            html += \"<table class='productList'><tbody>\"\r\n            for (let i = 0; i < food.length; i++) {\r\n                if (i % 4 === 0) {\r\n                    if (i === 0) {\r\n                        html += \"<tr>\"\r\n                    } else {\r\n                        html += \"</tr><tr>\"\r\n                    }\r\n                }\r\n                html += `\r\n                <td>\r\n                    <div class='card'>                    \r\n                        <h5 class='desc'>` + food[i].desc + ` - $` + food[i].price + `</h5>\r\n                        <img card-img-top src=\"` + food[i].src + `\"></img>\r\n                        <br>\r\n                        <button class='removeItem btn btn-danger btn-sm' value=\"` + food[i].desc + `\">Remove item</button>\r\n                    </div>\r\n                </td>\r\n                `;    \r\n                \r\n            }\r\n            html += \"</tr></tbody></table>\";\r\n            document.getElementById(\"foodItems\").innerHTML = html;\r\n            document.getElementsByClassName(\"spinner\")[0].style.display = \"none\";\r\n            await removeItem();            \r\n        }\r\n    }\r\n    \r\n    async function removeItem() {\r\n        let btns = document.getElementsByClassName(\"removeItem\");\r\n        for (let i = 0; i < btns.length; i++) {\r\n            btns[i].onclick = async function(){\r\n                //console.log(\"item si \" + btns[i].value);\r\n                await firebase.removeItem(btns[i].value);\r\n                // show notification\r\n                addNotification(`alert alert-warning`, `Removed item <strong>` + btns[i].value + `</strong> from database. Please refresh the page to see effect.`);\r\n            }\r\n        }\r\n    }\r\n\r\n    async function addItem(event) {\r\n        event.preventDefault();\r\n        let food = await firebase.getFood();        \r\n        let proceed = true;\r\n        for (let i = 0; i < food.length; i++) {\r\n            if (food[i].desc === desc) {\r\n                //console.log(\"that item is already in database\");\r\n                addNotification(\"alert alert-warning\", `\"` + desc + `\" is already in the database. Please remove it if you want to proceed`);\r\n                proceed = false;\r\n            } \r\n        }\r\n        if (proceed === true) {\r\n            let p = price.replace(\"$\", \"\");\r\n            await firebase.addItem(desc, src, p);\r\n            addNotification(\"alert alert-success\", `\"` + desc + `\" has been added to the database`);\r\n            setDesc(\"\");\r\n            setPrice(\"\");\r\n            setSrc(\"\");\r\n        }\r\n    }\r\n\r\n    function addNotification(type, msg) {\r\n        let html = document.getElementById(\"alertNotification\").innerHTML;\r\n        let notificationCount = document.getElementsByClassName(\"notificationBadge\").length;\r\n        html += `\r\n        <div class=\"notificationBadge\">\r\n            <div class=\"` + type + `\" role=\"alert\">\r\n                ` + msg + `\r\n            </div>\r\n        </div>                \r\n        `;\r\n        document.getElementById(\"alertNotification\").innerHTML = html;\r\n        // document.getElementById(\"notificationBadge\" + notificationCount).style.opacity = 1;\r\n        // document.getElementById(\"notificationBadge\" + notificationCount).style.transition = \"all 1s\";                \r\n        // document.getElementById(\"notificationBadge\" + notificationCount).style.opacity = 0;\r\n        setTimeout(function(){ \r\n            if(document.getElementsByClassName(\"notificationBadge\")[notificationCount]) {\r\n                document.getElementsByClassName(\"notificationBadge\")[notificationCount].style.display = \"none\"; \r\n            }\r\n        }, 4000);\r\n    }\r\n\r\n    async function filterOrder(event) {\r\n        event.preventDefault();\r\n        //7BE93N3\r\n        let details = await firebase.getOrderById(receipt);\r\n        if (details !== 0) {\r\n            let items = details.items.split(\",\");\r\n            console.log(details);\r\n            let myItems = [];\r\n            let myItemsHtml = \"\";\r\n            for (let i = 0; i < items.length; i++) {\r\n                if (!myItems.includes(items[i])) {\r\n                    if (items[i] !== \"undefined\" && items[i] !== \"null\") {\r\n                        myItems.push(items[i]);\r\n                        let qty = 1;\r\n                        for (let j = i+1; j < items.length; j++) {\r\n                            if (items[i] === items[j]) {\r\n                                qty += 1;\r\n                            }\r\n                        }\r\n                        myItemsHtml += `\r\n                            <p>` + items[i] + ` x ` + qty + `\r\n                        `;\r\n                    }\r\n                }\r\n            }\r\n            let deliveryDetails = JSON.parse(details.details);\r\n            let name = await firebase.getUserDetails(details.user);\r\n            document.getElementById(\"filteredOrder\").style.display = \"block\";\r\n            document.getElementById(\"filteredOrder\").innerHTML = `\r\n                <p><b>User: </b>` + name + `</p>\r\n                <p><b>Total: </b>` + details.total + `</p>\r\n                <p><b>Items: </b></p>\r\n                ` + myItemsHtml + `\r\n                <p><b>Delivery Recepient: </b>` + deliveryDetails.name + `</p>\r\n                <p><b>Delivery Recepient Address: </b>` + deliveryDetails.address + `</p>\r\n                <p><b>Status: </b>` + details.confirmed + `</p>\r\n            `;\r\n\r\n        } else {\r\n            document.getElementById(\"filteredOrder\").innerHTML = receipt + \" is an invalid receipt\";\r\n\r\n        }\r\n    }\r\n\r\n    async function getLink() {\r\n        let token = await firebase.writeToken();\r\n        let url = \"https://harvey67.github.io/care/#/token=\" + token + \"#\";\r\n        document.getElementById(\"invitationLinkID\").innerHTML = \"<p><a href='\" + url + \"'>\" + url + \"</a> - send this link to the person who want to see the site. This link can only be used once and is unique for that person only.</p>\";\r\n    }\r\n\r\n    return (\r\n        <div className=\"Admin\">\r\n            <div className=\"content\" style={{display:\"none\"}}>\r\n                <br />\r\n                <div id=\"alertNotification\"></div>                \r\n                <br />\r\n                <h3>Admin page</h3>\r\n                <br />\r\n                <h5>Link to invite people to site</h5>\r\n                <br />\r\n                <Button variant=\"success\" onClick={getLink}>Get invitation link</Button>\r\n                <br />\r\n                <div id=\"invitationLinkID\"></div>\r\n                <br />\r\n                {/* form to add food to database */}\r\n                <div style={{display:\"block\"}}>\r\n                    <hr></hr>\r\n                    <h5>Add food items to database</h5>\r\n                    <br />\r\n                    <Form onSubmit={addItem} autoComplete=\"off\">\r\n                        <Form.Group controlId=\"formDesc\">\r\n                            <Form.Label>Description</Form.Label>\r\n                            <Form.Control required value={desc} onChange={(e) => setDesc(e.target.value)} type=\"text\" placeholder=\"Description\" />\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"formSrc\">\r\n                            <Form.Label>Image link</Form.Label>\r\n                            <Form.Control required value={src} onChange={(e) => setSrc(e.target.value)} type=\"text\" placeholder=\"Image link\" />\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"formPrc\">\r\n                            <Form.Label>Price</Form.Label>\r\n                            <Form.Control required value={price} onChange={(e) => setPrice(e.target.value)} type=\"text\" placeholder=\"Price\" />\r\n                        </Form.Group>\r\n                        <Button variant=\"primary\" type=\"submit\">\r\n                            Submit\r\n                        </Button>\r\n                    </Form>\r\n\r\n                </div>\r\n                \r\n                <br />            \r\n                <br />            \r\n                <hr></hr>\r\n                <h4>Food</h4>\r\n                <Spinner animation=\"border\" className=\"spinner\" />\r\n                <div id=\"foodItems\"></div>\r\n                <br /> \r\n                <hr></hr>\r\n                <br /> \r\n                <h3>Orders</h3>\r\n                <h5>Filter Order</h5>\r\n                <div className=\"orderFilter\">\r\n                    <Form className=\"form-inline\" onSubmit={filterOrder} autoComplete=\"off\">\r\n                        <Form.Group controlId=\"formInput\">\r\n                            <Form.Control required value={receipt} onChange={(e) => setReceipt(e.target.value)} type=\"text\" placeholder=\"Receipt Number\" />\r\n                        </Form.Group>\r\n                        <Button variant=\"primary\" type=\"submit\">\r\n                            Submit\r\n                        </Button>\r\n                    </Form>\r\n                </div>\r\n                <br />\r\n                <br />\r\n                <div id=\"filteredOrder\" style={{display:\"none\"}}></div>\r\n                <br />\r\n                <h5>Pending Orders</h5>\r\n                <div className=\"pendingOrders\" style={{display:\"none\"}}></div>\r\n                <br />\r\n                <h5>Completed Orders</h5>\r\n                <div className=\"completedOrders\" style={{display:\"none\"}}></div>\r\n            </div>            \r\n        </div>      \r\n    );\r\n}\r\n\r\nexport default Admin;\r\n","import React, {useState, useEffect} from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport firebase from './firebase';\r\n\r\nconst Confirmation = () => {\r\n    const [pageLoaded, setPageloaded] = useState(0);\r\n    const [cardNumber, setCardnumber] = useState(\"\");\r\n    const [name, setName] = useState(\"\");\r\n    const history = useHistory();\r\n    \r\n    useEffect(() => {\r\n        if (pageLoaded === 0) {\r\n            let savedEmail = sessionStorage.getItem(\"savedEmail\");\r\n            if (savedEmail) {\r\n                console.log(\"savedmail is \" + savedEmail);\r\n                confirmPayment();\r\n            } else {\r\n                history.push(\"/\");\r\n            }\r\n        }        \r\n    });\r\n\r\n    async function confirmPayment() {\r\n        // sessionStorage.setItem(\"myCart\", null);\r\n        setPageloaded(1);\r\n\r\n        // get receipt confirmation\r\n        let html = \"\";\r\n        let myList = [];\r\n        let myCart = sessionStorage.getItem(\"myCart\");\r\n        if (myCart) {    \r\n            let myItems = myCart.split(\",\");            \r\n            if (!(myItems.length === 1 && myItems[0] === \"null\")) {\r\n                html = `<table class=\"table\"><tbody><tr><th scope=\"col\">Item</th><th scope=\"col\">Qty</th><th scope=\"col\">Total</th></tr>`;\r\n                console.log(myItems);\r\n                let food = await firebase.getFood();\r\n                let total = 0;\r\n                for (let i = 0; i < myItems.length; i++) {\r\n                    for (let j = 0; j < food.length; j++) {\r\n                        if (myItems[i] === food[j].desc) {\r\n                            let newItem = true;\r\n                            for (let k = 0; k < myList.length; k++) {\r\n                                if (myList[k].desc === myItems[i]) {\r\n                                    let item = {\r\n                                        desc: myList[k].desc,\r\n                                        qty: myList[k].qty + 1,\r\n                                        total: parseFloat(myList[k].total) + parseFloat(food[j].price)\r\n                                    }\r\n                                    myList[k] = item;\r\n                                    k = myList.length;\r\n                                    newItem = false;\r\n                                }\r\n                            }\r\n                            if (newItem === true) {\r\n                                let item = {\r\n                                    desc: myItems[i],\r\n                                    qty: 1,\r\n                                    total: parseFloat(food[j].price)\r\n                                }\r\n                                myList.push(item);\r\n                            }\r\n                            j = food.length;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                for (let i = 0; i < myList.length; i++) {\r\n                    html += `<tr><td>` + myList[i].desc + `</td><td>` + myList[i].qty + `</td><td>$` + myList[i].total + `</td></tr>`;\r\n                    total += parseFloat(myList[i].total);\r\n                }\r\n                html += `<tr><td><b>Total</b></td><td></td><td><b>$` + total + `</b></td></tr>`;\r\n                html += `</tbody></table>`;\r\n                \r\n                // get receipt number \r\n                let url = window.location.href;\r\n                if (url.includes(\"receipt=\") && url.includes(\"#\")) {\r\n                    let receiptNum = url.split(\"receipt=\")[1].split(\"#\");\r\n                    document.getElementById(\"receiptID\").innerHTML = \"Your receipt number is <b>\" + receiptNum + \"</b>. Please include this in your reference number during payment.\";\r\n                }\r\n\r\n                // get delivery details\r\n                let orderDetails = sessionStorage.getItem(\"orderDetails\");\r\n                let obj = JSON.parse(orderDetails);\r\n                document.getElementById(\"deliveryDetails\").innerHTML = `\r\n                <h3>Delivery Details</h3>\r\n                <p>You can edit this <a href='#my-cart'>here</a></p>\r\n                <table><tbody>\r\n                <tr><th>Name:</th><td>` + obj.name + `</td></tr>\r\n                <tr><th>Address:</th><td>` + obj.address + `</td></tr>\r\n                </tbody></table>\r\n                `;\r\n            } else {\r\n                html = \"<p>You haven't selected any items to be donated. Please <a href='#donate-food'>Click here</a> to select items to donate</p>\";\r\n            }        \r\n        } else {\r\n            html = \"<p>You haven't selected any items to be donated. Please <a href='#donate-food'>Click here</a> to select items to donate</p>\";\r\n        } \r\n        document.getElementsByClassName(\"spinner\")[0].style.display = \"none\";\r\n        document.getElementById(\"myItems\").innerHTML = html;\r\n    }\r\n\r\n    function makeCardDonation() {\r\n        console.log(\"making card donaiton\");\r\n    }\r\n\r\n    return (\r\n        <div className=\"Confirmation\">\r\n            <div className=\"content\">\r\n                <br />\r\n                <div id=\"alertNotification\"></div>                \r\n                <br />\r\n                <h3>Confirm donation</h3>\r\n                <br />\r\n                <p>Thank you for your generosity. Please enter the payment details below:</p>\r\n                <br />\r\n                <h4>Your receipt:</h4>\r\n                <div id=\"receiptID\"></div>\r\n                <br />                \r\n                <a href=\"my-cart\">Alter order</a>\r\n                <br />                \r\n                <br />                \r\n                <br />\r\n                <Spinner animation=\"border\" className=\"spinner\" />\r\n                <div id=\"myItems\"></div>\r\n                <br />                \r\n                <br />\r\n                <hr></hr>\r\n                <div id=\"deliveryDetails\"></div>\r\n                <br />                \r\n                <hr></hr>\r\n                <div className=\"paymentSection\">\r\n                    <Accordion defaultActiveKey=\"0\">\r\n                        <Card>\r\n                            <Card.Header>\r\n                            <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"0\">\r\n                                Bank transfer\r\n                            </Accordion.Toggle>\r\n                            </Card.Header>\r\n                            <Accordion.Collapse eventKey=\"0\">\r\n                            <Card.Body>\r\n                                <table>\r\n                                    <tbody>\r\n                                        <tr>\r\n                                            <td>BSB:</td>\r\n                                            <td>0123 4567</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td>Account Number:</td>\r\n                                            <td>0123 4567 8901</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td>Reference:</td>\r\n                                            <td id=\"referenceID\">0123 4567 8901</td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </Card.Body>\r\n                            </Accordion.Collapse>\r\n                        </Card>\r\n                        <Card>\r\n                            <Card.Header>\r\n                            <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\r\n                                Credit Card Payment\r\n                            </Accordion.Toggle>\r\n                            </Card.Header>\r\n                            <Accordion.Collapse eventKey=\"1\">\r\n                            <Card.Body>\r\n                                <Form onSubmit={makeCardDonation}>\r\n                                    <Form.Group controlId=\"formBasicCardNumber\">\r\n                                        <Form.Label>Card Number</Form.Label>\r\n                                        <Form.Control required value={cardNumber} onChange={(e) => setCardnumber(e.target.value)} type=\"text\" placeholder=\"Enter Card Number\" />\r\n                                    </Form.Group>\r\n                                    <Form.Group controlId=\"formBasicName\">\r\n                                        <Form.Label>Name on card</Form.Label>\r\n                                        <Form.Control required value={name} onChange={(e) => setName(e.target.value)} type=\"text\" placeholder=\"Name on card\" />\r\n                                    </Form.Group>\r\n                                    <Form.Group controlId=\"formBasicCheckbox\">\r\n                                        <Form.Check type=\"checkbox\" label=\"Remember my login details\" />\r\n                                    </Form.Group>\r\n                                    <Button variant=\"primary\" type=\"submit\">\r\n                                        Submit\r\n                                    </Button>\r\n                                </Form>\r\n                            </Card.Body>\r\n                            </Accordion.Collapse>\r\n                        </Card>\r\n                    </Accordion>\r\n                </div>      \r\n\r\n            </div>\r\n            <br />            \r\n            <br />            \r\n\r\n        </div>      \r\n    );\r\n}\r\n\r\nexport default Confirmation;\r\n","import React, {useEffect} from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport './App.css';\n// import firebase from './firebase';\nimport Navbartop from './Navbartop';\n\nimport LoginForm from './LoginForm';\nimport Home from './Home';\nimport ErrorPage from './ErrorPage';\nimport DonateMoney from './donate-money';\nimport DonateFood from './donate-food';\nimport Footerbottom from './Footerbottom';\nimport MyCart from './my-cart';\nimport Admin from './Admin';\nimport Confirmation from './confirmation';\n\n\nconst App = () => {\n\n  async function begin() {\n    console.log(\"starting up\");\n\n    let userType;\n    if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n      userType = \"Mobile\";\n      document.getElementsByClassName(\"App\")[0].className = userType;\n    } else {\n      userType = \"Computer\";\n    }\n    console.log(userType);\n\n    let savedEmail = sessionStorage.getItem(\"savedEmail\");\n    if (savedEmail) {\n      console.log(\"savedmail is \" + savedEmail);\n      document.getElementsByClassName(\"Navbartop\")[0].style.display = \"block\";\n      document.getElementsByClassName(\"Footerbottom\")[0].style.display = \"block\";\n    } else {\n      document.getElementsByClassName(\"Navbartop\")[0].style.display = \"none\";\n      document.getElementsByClassName(\"Footerbottom\")[0].style.display = \"none\";\n    }\n\n  }\n\n  useEffect(() => {        \n    console.log(window.location.href);\n    begin();    \n  });\n\n  return (\n    <div className=\"App\">\n      <Navbartop />\n\n      <Switch>\n        <Route path=\"/\" component={LoginForm} exact />\n        <Route path=\"/home\" component={Home} />\n        <Route path=\"/donate-money\" component={DonateMoney} />\n        <Route path=\"/donate-food\" component={DonateFood} />\n        <Route path=\"/my-cart\" component={MyCart} />\n        <Route path=\"/admin\" component={Admin} />\n        <Route path=\"/confirmation\" component={Confirmation} />\n        \n        <Route component={ErrorPage} />\n      </Switch>\n      <Footerbottom />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { HashRouter } from 'react-router-dom';\nimport './App.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>  \n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}